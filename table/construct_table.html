<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Constructing a table &mdash; Astropy v1.2.dev14978</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2.dev14978',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="top" title="Astropy v1.2.dev14978" href="../index.html" />
    <link rel="up" title="Data Tables (astropy.table)" href="index.html" />
    <link rel="next" title="Accessing a table" href="access_table.html" />
    <link rel="prev" title="Data Tables (astropy.table)" href="index.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="access_table.html" title="Accessing a table">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="index.html" title="Data Tables (astropy.table)">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v1.2.dev14978</a>
	 &raquo;
      </li>
      <li><a href="index.html" accesskey="U">Data Tables (<code class="docutils literal"><span class="pre">astropy.table</span></code>)</a> &raquo;</li>
      
      <li>Constructing a table</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="constructing-a-table">
<span id="construct-table"></span><h1>Constructing a table<a class="headerlink" href="#constructing-a-table" title="Permalink to this headline">¶</a></h1>
<p>There is great deal of flexibility in the way that a table can be initially
constructed.  Details on the inputs to the <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>
constructor are in the <a class="reference internal" href="#initialization-details">Initialization Details</a> section.  However, the
easiest way to understand how to make a table is by example.</p>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Much of the flexibility lies in the types of data structures
which can be used to initialize the table data.  The examples below show how to
create a table from scratch with no initial data, create a table with a list of
columns, a dictionary of columns, or from <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> arrays (either structured or
homogeneous).</p>
<div class="section" id="setup">
<h3>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h3>
<p>For the following examples you need to import the <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> and <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> classes
along with the <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> package:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="kn">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-from-scratch">
<h3>Creating from scratch<a class="headerlink" href="#creating-from-scratch" title="Permalink to this headline">¶</a></h3>
<p>A Table can be created without any initial input data or even without any
initial columns.  This is useful for building tables dynamically if the initial
size, columns, or data are not known.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Adding rows requires making a new copy of the entire
table each time, so in the case of large tables this may be slow.
On the other hand, adding columns is reasonably fast.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Column</span><span class="p">([</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s">&#39;cm&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">&#39;Velocity&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_row</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_row</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;f4&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">)])</span>
</pre></div>
</div>
<p>Another option for creating a table is using the <a class="reference internal" href="../api/astropy.table.QTable.html#astropy.table.QTable" title="astropy.table.QTable"><code class="xref py py-obj docutils literal"><span class="pre">QTable</span></code></a> class.
In this case any <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-obj docutils literal"><span class="pre">Quantity</span></code></a> column objects will be stored
natively within the table via the &#8220;mixin&#8221; column protocol (see <a class="reference internal" href="#columns-and-quantities">Columns and
Quantities</a> for details):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="kn">import</span> <span class="n">QTable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">QTable</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;velocity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s">&#39;velocity&#39;</span><span class="p">])</span>  
<span class="go">astropy.units.quantity.Quantity</span>
</pre></div>
</div>
</div>
<div class="section" id="list-of-columns">
<h3>List of columns<a class="headerlink" href="#list-of-columns" title="Permalink to this headline">¶</a></h3>
<p>A typical case is where you have a number of data columns with the same length
defined in different variables.  These might be Python lists or <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> arrays
or a mix of the two.  These can be used to create a <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> by putting the column
data variables into a Python list.  In this case the column names are not
defined by the input data, so they must either be set using the <code class="docutils literal"><span class="pre">names</span></code>
keyword or they will be auto-generated as <code class="docutils literal"><span class="pre">col&lt;N&gt;</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">  a      b     c</span>
<span class="go">int32 float64 str1</span>
<span class="go">----- ------- ----</span>
<span class="go">    1     2.0    x</span>
<span class="go">    4     5.0    y</span>
</pre></div>
</div>
<p><strong>Make a new table using columns from the first table</strong></p>
<p>Once you have a <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> then you can make new table by selecting columns
and putting this into a Python list, e.g. <code class="docutils literal"><span class="pre">[</span> <span class="pre">t['c'],</span> <span class="pre">t['a']</span> <span class="pre">]</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]])</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go"> c     a</span>
<span class="go">str1 int32</span>
<span class="go">---- -----</span>
<span class="go">   x     1</span>
<span class="go">   y     4</span>
</pre></div>
</div>
<p><strong>Make a new table using expressions involving columns</strong></p>
<p>The <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> object is derived from the standard <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> array and can be used
directly in arithmetic expressions.  This allows for a compact way of making a
new table with modified column values:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">10</span><span class="p">])</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">  a      b</span>
<span class="go">int32 float64</span>
<span class="go">----- -------</span>
<span class="go">    1    12.0</span>
<span class="go">   16    15.0</span>
</pre></div>
</div>
<p><strong>Different types of column data</strong></p>
<p>The list input method for <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> is very flexible since you can use a mix
of different data types to initialize a table:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>  <span class="c"># vector column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Column</span><span class="p">([</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;axis&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go"> col0 col1 [2] axis</span>
<span class="go">int64  int64   str1</span>
<span class="go">----- -------- ----</span>
<span class="go">    1   2 .. 3    x</span>
<span class="go">    4   5 .. 6    y</span>
</pre></div>
</div>
<p>Notice that in the third column the existing column name <code class="docutils literal"><span class="pre">'axis'</span></code> is used.</p>
</div>
<div class="section" id="dict-of-columns">
<h3>Dict of columns<a class="headerlink" href="#dict-of-columns" title="Permalink to this headline">¶</a></h3>
<p>A dictionary of column data can be used to initialize a <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span>
<span class="gp">... </span>       <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span>
<span class="gp">... </span>       <span class="s">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">]}</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">  a    c      b</span>
<span class="go">int32 str1 float64</span>
<span class="go">----- ---- -------</span>
<span class="go">    1    x     2.0</span>
<span class="go">    4    y     5.0</span>
</pre></div>
</div>
<p><strong>Specify the column order and optionally the data types</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f8&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">))</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">   a      b    c</span>
<span class="go">float64 int32 str2</span>
<span class="go">------- ----- ----</span>
<span class="go">    1.0     2    x</span>
<span class="go">    4.0     5    y</span>
</pre></div>
</div>
<p><strong>Different types of column data</strong></p>
<p>The input column data can be any data type that can initialize a <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>       <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]),</span>
<span class="gp">... </span>       <span class="s">&#39;c&#39;</span><span class="p">:</span> <span class="n">Column</span><span class="p">([</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;axis&#39;</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">))</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">  a   b [2]   c</span>
<span class="go">int64 int64  str1</span>
<span class="go">----- ------ ----</span>
<span class="go">    1 2 .. 3    x</span>
<span class="go">    4 5 .. 6    y</span>
</pre></div>
</div>
<p>Notice that the key <code class="docutils literal"><span class="pre">'c'</span></code> takes precedence over the existing column name
<code class="docutils literal"><span class="pre">'axis'</span></code> in the third column.  Also see that the <code class="docutils literal"><span class="pre">'b'</span></code> column is a vector
column where each row element is itself a 2-element array.</p>
<p><strong>Renaming columns is not possible</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a_new&#39;</span><span class="p">,</span> <span class="s">&#39;b_new&#39;</span><span class="p">,</span> <span class="s">&#39;c_new&#39;</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">&#39;a_new&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="row-data">
<h3>Row data<a class="headerlink" href="#row-data" title="Permalink to this headline">¶</a></h3>
<p>Row-oriented data can be used to create a table using the <code class="docutils literal"><span class="pre">rows</span></code>
keyword argument.</p>
<p><strong>List of data records as list or tuple</strong></p>
<p>If you have row-oriented input data such as a list of records, you
need to use the <code class="docutils literal"><span class="pre">rows</span></code> keyword to create a table:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data_rows</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">),</span>
<span class="gp">... </span>             <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">),</span>
<span class="gp">... </span>             <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">8.2</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="n">data_rows</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go"> a   b   c</span>
<span class="go">--- --- ---</span>
<span class="go">  1 2.0   x</span>
<span class="go">  4 5.0   y</span>
<span class="go">  5 8.2   z</span>
</pre></div>
</div>
<p>The data object passed as the <code class="docutils literal"><span class="pre">rows</span></code> argument can be any form which is
parsable by the <code class="docutils literal"><span class="pre">np.rec.fromrecords()</span></code> function.</p>
<p><strong>List of dict objects</strong></p>
<p>You can also initialize a table with row values.  This is constructed as a
list of dict objects.  The keys determine the column names:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">  a     b</span>
<span class="go">int64 int64</span>
<span class="go">----- -----</span>
<span class="go">    5    10</span>
<span class="go">   15    20</span>
</pre></div>
</div>
<p>Every row must have the same set of keys or a ValueError will be thrown:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}])</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Row 0 has no value for column c</span>
</pre></div>
</div>
<p><strong>Single row</strong></p>
<p>You can also make a new table from a single row of an existing table:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Remember that a <a class="reference internal" href="../api/astropy.table.Row.html#astropy.table.Row" title="astropy.table.Row"><code class="xref py py-class docutils literal"><span class="pre">Row</span></code></a> has effectively a zero length compared to the
newly created <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> which has a length of one.  This is similar to
the difference between a scalar <code class="docutils literal"><span class="pre">1</span></code> (length 0) and an array like
<code class="docutils literal"><span class="pre">np.array([1])</span></code> with length 1.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the case of input data as a list of dicts or a single Table row, it is
allowed to supply the data as the <code class="docutils literal"><span class="pre">data</span></code> argument since these forms
are always unambiguous.  For example <code class="docutils literal"><span class="pre">Table([{'a':</span> <span class="pre">1},</span> <span class="pre">{'a':</span> <span class="pre">2}])</span></code> is
accepted.  However, a list of records must always be provided using the
<code class="docutils literal"><span class="pre">rows</span></code> keyword, otherwise it will be interpreted as a list of columns.</p>
</div>
</div>
<div class="section" id="numpy-structured-array">
<h3>NumPy structured array<a class="headerlink" href="#numpy-structured-array" title="Permalink to this headline">¶</a></h3>
<p>The structured array is the standard mechanism in <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> for storing
heterogeneous table data.  Most scientific I/O packages that read table
files (e.g.  <a class="reference external" href="http://www.stsci.edu/resources/software_hardware/pyfits">PyFITS</a>, <a class="reference external" href="http://stsdas.stsci.edu/astrolib/vo/html/intro_table.html">vo.table</a>, <a class="reference external" href="http://cxc.harvard.edu/contrib/asciitable/">asciitable</a>) will return the table in an
object that is based on the structured array.  A structured array can be
created using:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">),</span>
<span class="gp">... </span>                <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">)],</span>
<span class="gp">... </span>               <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;f8&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">)])</span>
</pre></div>
</div>
<p>From <code class="docutils literal"><span class="pre">arr</span></code> it is simple to create the corresponding <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">  a      b     c</span>
<span class="go">int32 float64 str2</span>
<span class="go">----- ------- ----</span>
<span class="go">    1     2.0    x</span>
<span class="go">    4     5.0    y</span>
</pre></div>
</div>
<p>Note that in the above example and most the following ones we are creating a
table and immediately asking the interactive Python interpreter to print the
table to see what we made.  In real code you might do something like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go"> a   b   c</span>
<span class="go">--- --- ---</span>
<span class="go">  1 2.0   x</span>
<span class="go">  4 5.0   y</span>
</pre></div>
</div>
<p><strong>New column names</strong></p>
<p>The column names can be changed from the original values by providing the
<code class="docutils literal"><span class="pre">names</span></code> argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a_new&#39;</span><span class="p">,</span> <span class="s">&#39;b_new&#39;</span><span class="p">,</span> <span class="s">&#39;c_new&#39;</span><span class="p">))</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">a_new  b_new  c_new</span>
<span class="go">int32 float64  str2</span>
<span class="go">----- ------- -----</span>
<span class="go">    1     2.0     x</span>
<span class="go">    4     5.0     y</span>
</pre></div>
</div>
<p><strong>New data types</strong></p>
<p>Likewise the data type for each column can by changed with <code class="docutils literal"><span class="pre">dtype</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S4&#39;</span><span class="p">))</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">   a      b    c</span>
<span class="go">float32 int32 str4</span>
<span class="go">------- ----- ----</span>
<span class="go">    1.0     2    x</span>
<span class="go">    4.0     5    y</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a_new&#39;</span><span class="p">,</span> <span class="s">&#39;b_new&#39;</span><span class="p">,</span> <span class="s">&#39;c_new&#39;</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S4&#39;</span><span class="p">))</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go"> a_new  b_new c_new</span>
<span class="go">float32 int32  str4</span>
<span class="go">------- ----- -----</span>
<span class="go">    1.0     2     x</span>
<span class="go">    4.0     5     y</span>
</pre></div>
</div>
</div>
<div class="section" id="numpy-homogeneous-array">
<h3>NumPy homogeneous array<a class="headerlink" href="#numpy-homogeneous-array" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> 1-d array is treated as a single row table where each element of the
array corresponds to a column:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;i8&#39;</span><span class="p">,</span> <span class="s">&#39;i8&#39;</span><span class="p">,</span> <span class="s">&#39;i8&#39;</span><span class="p">))</span>
<span class="go">&lt;Table length=1&gt;</span>
<span class="go">  a     b     c</span>
<span class="go">int64 int64 int64</span>
<span class="go">----- ----- -----</span>
<span class="go">    1     2     3</span>
</pre></div>
</div>
<p>A <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> 2-d array (where all elements have the same type) can also be
converted into a <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>.  In this case the column names are not specified by
the data and must either be provided by the user or will be automatically
generated as <code class="docutils literal"><span class="pre">col&lt;N&gt;</span></code> where <code class="docutils literal"><span class="pre">&lt;N&gt;</span></code> is the column number.</p>
<p><strong>Basic example with automatic column names</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go"> col0  col1  col2</span>
<span class="go">int32 int32 int32</span>
<span class="go">----- ----- -----</span>
<span class="go">    1     2     3</span>
<span class="go">    4     5     6</span>
</pre></div>
</div>
<p><strong>Column names and types specified</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a_new&#39;</span><span class="p">,</span> <span class="s">&#39;b_new&#39;</span><span class="p">,</span> <span class="s">&#39;c_new&#39;</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S4&#39;</span><span class="p">))</span>  
<span class="go">&lt;Table length=2&gt;</span>
<span class="go"> a_new  b_new c_new</span>
<span class="go">float32 int32  str4</span>
<span class="go">------- ----- -----</span>
<span class="go">    1.0     2     3</span>
<span class="go">    4.0     5     6</span>
</pre></div>
</div>
<p><strong>Referencing the original data</strong></p>
<p>It is possible to reference the original data for an homogeneous array as long
as the data types are not changed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Python arrays versus `numpy` arrays as input</strong></p>
<p>There is a slightly subtle issue that is important to understand in the way
that <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> objects are created.  Any data input that looks like a Python list
(including a tuple) is considered to be a list of columns.  In contrast an
homogeneous <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> array input is interpreted as a list of rows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c"># Two columns, three rows</span>
<span class="go">col0 col1</span>
<span class="go">---- ----</span>
<span class="go">   1    4</span>
<span class="go">   2    5</span>
<span class="go">   3    6</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">Table</span><span class="p">(</span><span class="n">np_arr</span><span class="p">))</span>  <span class="c"># Three columns, two rows</span>
<span class="go">col0 col1 col2</span>
<span class="go">---- ---- ----</span>
<span class="go">   1    2    3</span>
<span class="go">   4    5    6</span>
</pre></div>
</div>
<p>This dichotomy is needed to support flexible list input while retaining the
natural interpretation of 2-d <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/index.html#module-numpy" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy</span></code></a> arrays where the first index corresponds
to data &#8220;rows&#8221; and the second index corresponds to data &#8220;columns&#8221;.</p>
</div>
<div class="section" id="from-existing-table">
<h3>From existing table<a class="headerlink" href="#from-existing-table" title="Permalink to this headline">¶</a></h3>
<p>A new table can be created by selecting a subset of columns in an existing
table:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">]</span>  <span class="c"># Makes a copy of the data</span>
<span class="go">&lt;Table length=0&gt;</span>
<span class="go">   c       b       a</span>
<span class="go">float64 float64 float64</span>
<span class="go">------- ------- -------</span>
</pre></div>
</div>
<p>An alternate way to use the <code class="docutils literal"><span class="pre">columns</span></code> attribute (explained in the
<a class="reference internal" href="#tablecolumns">TableColumns</a> section) to initialize a new table.  This let&#8217;s you choose
columns by their numerical index or name and supports slicing syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="go">&lt;Table length=0&gt;</span>
<span class="go">   a       b</span>
<span class="go">float64 float64</span>
<span class="go">------- -------</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="p">([</span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]])</span>
<span class="go">&lt;Table length=0&gt;</span>
<span class="go">   a       c</span>
<span class="go">float64 float64</span>
<span class="go">------- -------</span>
</pre></div>
</div>
<p>To create a copy of an existing table that is empty (has no rows):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">   x       y</span>
<span class="go">float64 float64</span>
<span class="go">------- -------</span>
<span class="go">    1.0     2.1</span>
<span class="go">    2.3     3.0</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tcopy</span> <span class="o">=</span> <span class="n">t</span><span class="p">[:</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tcopy</span>
<span class="go">&lt;Table length=0&gt;</span>
<span class="go">   x       y</span>
<span class="go">float64 float64</span>
<span class="go">------- -------</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="initialization-details">
<h2>Initialization Details<a class="headerlink" href="#initialization-details" title="Permalink to this headline">¶</a></h2>
<p>A table object is created by initializing a <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> class
object with the following arguments, all of which are optional:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">data</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">numpy ndarray, dict, list, or Table</span></dt>
<dd>Data to initialize table.</dd>
<dt><code class="docutils literal"><span class="pre">names</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd>Specify column names</dd>
<dt><code class="docutils literal"><span class="pre">dtype</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd>Specify column data types</dd>
<dt><code class="docutils literal"><span class="pre">meta</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">dict-like</span></dt>
<dd>Meta-Data associated with the table</dd>
<dt><code class="docutils literal"><span class="pre">copy</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Copy the input data (default=True).</dd>
</dl>
<p>The following subsections provide further detail on the values and options for
each of the keyword arguments that can be used to create a new <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> object.</p>
<div class="section" id="data">
<h3>data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> object can be initialized with several different forms
for the <code class="docutils literal"><span class="pre">data</span></code> argument.</p>
<dl class="docutils">
<dt><strong>numpy ndarray (structured array)</strong></dt>
<dd>The base column names are the field names of the <code class="docutils literal"><span class="pre">data</span></code> structured
array.  The <code class="docutils literal"><span class="pre">names</span></code> list (optional) can be used to select
particular fields and/or reorder the base names.  The <code class="docutils literal"><span class="pre">dtype</span></code> list
(optional) must match the length of <code class="docutils literal"><span class="pre">names</span></code> and is used to
override the existing <code class="docutils literal"><span class="pre">data</span></code> types.</dd>
<dt><strong>numpy ndarray (homogeneous)</strong></dt>
<dd><p class="first">If the <code class="docutils literal"><span class="pre">data</span></code> ndarray is 1-dimensional then it is treated as a single row
table where each element of the array corresponds to a column.</p>
<p>If the <code class="docutils literal"><span class="pre">data</span></code> ndarray is at least 2-dimensional then the first
(left-most) index corresponds to row number (table length) and the
second index corresponds to column number (table width).  Higher
dimensions get absorbed in the shape of each table cell.</p>
<p class="last">If provided the <code class="docutils literal"><span class="pre">names</span></code> list must match the &#8220;width&#8221; of the <code class="docutils literal"><span class="pre">data</span></code>
argument.  The default for <code class="docutils literal"><span class="pre">names</span></code> is to auto-generate column names
in the form &#8220;col&lt;N&gt;&#8221;.  If provided the <code class="docutils literal"><span class="pre">dtype</span></code> list overrides the
base column types and must match the length of <code class="docutils literal"><span class="pre">names</span></code>.</p>
</dd>
<dt><strong>dict-like</strong></dt>
<dd>The keys of the <code class="docutils literal"><span class="pre">data</span></code> object define the base column names.  The
corresponding values can be Column objects, numpy arrays, or list-like
objects.  The <code class="docutils literal"><span class="pre">names</span></code> list (optional) can be used to select
particular fields and/or reorder the base names.  The <code class="docutils literal"><span class="pre">dtype</span></code> list
(optional) must match the length of <code class="docutils literal"><span class="pre">names</span></code> and is used to override
the existing or default data types.</dd>
<dt><strong>list-like</strong></dt>
<dd>Each item in the <code class="docutils literal"><span class="pre">data</span></code> list provides a column of data values and
can be a Column object, numpy array, or list-like object.  The
<code class="docutils literal"><span class="pre">names</span></code> list defines the name of each column.  The names will be
auto-generated if not provided (either from the <code class="docutils literal"><span class="pre">names</span></code> argument or
by Column objects).  If provided the <code class="docutils literal"><span class="pre">names</span></code> argument must match the
number of items in the <code class="docutils literal"><span class="pre">data</span></code> list.  The optional <code class="docutils literal"><span class="pre">dtype</span></code> list
will override the existing or default data types and must match
<code class="docutils literal"><span class="pre">names</span></code> in length.</dd>
<dt><strong>list-of-dicts</strong></dt>
<dd>Similar to Python&#8217;s builtin <code class="docutils literal"><span class="pre">csv.DictReader</span></code>, each item in the
<code class="docutils literal"><span class="pre">data</span></code> list provides a row of data values and must be a dict.  The
key values in each dict define the column names and each row must
have identical column names.  The <code class="docutils literal"><span class="pre">names</span></code> argument may be supplied
to specify column ordering.  If it is not provided, the column order will
default to alphabetical.  The <code class="docutils literal"><span class="pre">dtype</span></code> list may be specified, and must
correspond to the order of output columns.  If any row&#8217;s keys do no match
the rest of the rows, a ValueError will be thrown.</dd>
<dt><strong>None</strong></dt>
<dd>Initialize a zero-length table.  If <code class="docutils literal"><span class="pre">names</span></code> and optionally <code class="docutils literal"><span class="pre">dtype</span></code>
are provided then the corresponding columns are created.</dd>
</dl>
</div>
<div class="section" id="names">
<h3>names<a class="headerlink" href="#names" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">names</span></code> argument provides a way to specify the table column names or
override the existing ones.  By default the column names are either taken
from existing names (for <code class="docutils literal"><span class="pre">ndarray</span></code> or <code class="docutils literal"><span class="pre">Table</span></code> input) or auto-generated
as <code class="docutils literal"><span class="pre">col&lt;N&gt;</span></code>.  If <code class="docutils literal"><span class="pre">names</span></code> is provided then it must be a list with the
same length as the number of columns.  Any list elements with value
<code class="docutils literal"><span class="pre">None</span></code> fall back to the default name.</p>
<p>In the case where <code class="docutils literal"><span class="pre">data</span></code> is provided as dict of columns, the <code class="docutils literal"><span class="pre">names</span></code>
argument can be supplied to specify the order of columns.  The <code class="docutils literal"><span class="pre">names</span></code> list
must then contain each of the keys in the <code class="docutils literal"><span class="pre">data</span></code> dict.  If <code class="docutils literal"><span class="pre">names</span></code> is not
supplied then the order of columns in the output table is not determinate.</p>
</div>
<div class="section" id="dtype">
<h3>dtype<a class="headerlink" href="#dtype" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">dtype</span></code> argument provides a way to specify the table column data
types or override the existing types.  By default the types are either
taken from existing types (for <code class="docutils literal"><span class="pre">ndarray</span></code> or <code class="docutils literal"><span class="pre">Table</span></code> input) or
auto-generated by the <code class="docutils literal"><span class="pre">numpy.array()</span></code> routine.  If <code class="docutils literal"><span class="pre">dtype</span></code> is provided
then it must be a list with the same length as the number of columns.  The
values must be valid <code class="docutils literal"><span class="pre">numpy.dtype</span></code> initializers or <code class="docutils literal"><span class="pre">None</span></code>.  Any list
elements with value <code class="docutils literal"><span class="pre">None</span></code> fall back to the default type.</p>
<p>In the case where <code class="docutils literal"><span class="pre">data</span></code> is provided as dict of columns, the <code class="docutils literal"><span class="pre">dtype</span></code> argument
must be accompanied by a corresponding <code class="docutils literal"><span class="pre">names</span></code> argument in order to uniquely
specify the column ordering.</p>
</div>
<div class="section" id="meta">
<h3>meta<a class="headerlink" href="#meta" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">meta</span></code> argument is simply an object that contains meta-data associated
with the table.  It is recommended that this object be a dict or
<a class="reference external" href="http://docs.python.org/library/collections.html#collections.OrderedDict">OrderedDict</a>, but the only firm requirement is that it can be copied with
the standard library <code class="docutils literal"><span class="pre">copy.deepcopy()</span></code> routine.  By default <code class="docutils literal"><span class="pre">meta</span></code> is
an empty <a class="reference external" href="http://docs.python.org/library/collections.html#collections.OrderedDict">OrderedDict</a>.</p>
</div>
<div class="section" id="copy">
<h3>copy<a class="headerlink" href="#copy" title="Permalink to this headline">¶</a></h3>
<p>By default the input <code class="docutils literal"><span class="pre">data</span></code> are copied into a new internal <code class="docutils literal"><span class="pre">np.ndarray</span></code>
object in the Table object.  In the case where <code class="docutils literal"><span class="pre">data</span></code> is either an
<code class="docutils literal"><span class="pre">np.ndarray</span></code> object or an existing <code class="docutils literal"><span class="pre">Table</span></code>, it is possible to use a
reference to the existing data by setting <code class="docutils literal"><span class="pre">copy=False</span></code>.  This has the
advantage of reducing memory use and being faster.  However one should take
care because any modifications to the new Table data will also be seen in the
original input data.  See the <a class="reference internal" href="#id1">Copy versus Reference</a> section for more
information.</p>
</div>
</div>
<div class="section" id="copy-versus-reference">
<span id="id1"></span><h2>Copy versus Reference<a class="headerlink" href="#copy-versus-reference" title="Permalink to this headline">¶</a></h2>
<p>Normally when a new <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> object is created, the input data are <em>copied</em> into
a new internal array object.  This ensures that if the new table elements are
modified then the original data will not be affected.  However, when creating a
table from a numpy ndarray object (structured or homogeneous), it is possible to
disable copying so that instead a memory reference to the original data is
used.  This has the advantage of being faster and using less memory.  However,
caution must be exercised because the new table data and original data will be
linked, as shown below:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">),</span>
<span class="gp">... </span>                <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">)],</span>
<span class="gp">... </span>               <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;i8&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;f8&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;S2&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">])</span>  <span class="c"># column &quot;a&quot; of the input array</span>
<span class="go">[1 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">99</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">])</span>  <span class="c"># arr[&#39;a&#39;] got changed when we modified t[&#39;a&#39;]</span>
<span class="go">[ 1 99]</span>
</pre></div>
</div>
<p>Note that when referencing the data it is not possible to change the data types
since that operation requires making a copy of the data.  In this case an error
occurs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;f4&#39;</span><span class="p">,</span> <span class="s">&#39;i4&#39;</span><span class="p">,</span> <span class="s">&#39;S4&#39;</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Cannot specify dtype when copy=False</span>
</pre></div>
</div>
<p>Another caveat in using referenced data is that you if add a new row to the
table then the reference to the original data array is lost and instead the
table will now hold a copy of the original values (in addition to the new row).</p>
</div>
<div class="section" id="column-and-tablecolumns-classes">
<h2>Column and TableColumns classes<a class="headerlink" href="#column-and-tablecolumns-classes" title="Permalink to this headline">¶</a></h2>
<p>There are two classes, <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> and <a class="reference internal" href="../api/astropy.table.TableColumns.html#astropy.table.TableColumns" title="astropy.table.TableColumns"><code class="xref py py-class docutils literal"><span class="pre">TableColumns</span></code></a>, that are useful when
constructing new tables.</p>
<div class="section" id="column">
<h3>Column<a class="headerlink" href="#column" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> object can be created as follows, where in all cases the column
<code class="docutils literal"><span class="pre">name</span></code> should be provided as a keyword argument and one can optionally provide
these values:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">data</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">list, ndarray or None</span></dt>
<dd>Column data values</dd>
<dt><code class="docutils literal"><span class="pre">dtype</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">numpy.dtype compatible value</span></dt>
<dd>Data type for column</dd>
<dt><code class="docutils literal"><span class="pre">description</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Full description of column</dd>
<dt><code class="docutils literal"><span class="pre">unit</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Physical unit</dd>
<dt><code class="docutils literal"><span class="pre">format</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">str or function</span></dt>
<dd><a class="reference internal" href="#format-specifier">Format specifier</a> for outputting column values</dd>
<dt><code class="docutils literal"><span class="pre">meta</span></code> <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>Meta-data associated with the column</dd>
</dl>
<div class="section" id="initialization-options">
<h4>Initialization options<a class="headerlink" href="#initialization-options" title="Permalink to this headline">¶</a></h4>
<p>The column data values, shape, and data type are specified in one of two ways:</p>
<p><strong>Provide a ``data`` value but not a ``length`` or ``shape``</strong></p>
<blockquote>
<div><p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)</span>  <span class="c"># shape=(2,)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)</span>  <span class="c"># shape=(2, 2)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">([</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;world&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">dtype</span></code> argument can be any value which is an acceptable
fixed-size data-type initializer for the numpy.dtype() method.  See
<a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/arrays.dtypes.html">http://docs.scipy.org/doc/numpy/reference/arrays.dtypes.html</a>.
Examples include:</p>
<ul class="simple">
<li>Python non-string type (float, int, bool)</li>
<li>Numpy non-string type (e.g. np.float32, np.int64, np.bool)</li>
<li>Numpy.dtype array-protocol type strings (e.g. &#8216;i4&#8217;, &#8216;f8&#8217;, &#8216;S15&#8217;)</li>
</ul>
<p>If no <code class="docutils literal"><span class="pre">dtype</span></code> value is provided then the type is inferred using
<code class="docutils literal"><span class="pre">np.array(data)</span></code>.  When <code class="docutils literal"><span class="pre">data</span></code> is provided then the <code class="docutils literal"><span class="pre">shape</span></code>
and <code class="docutils literal"><span class="pre">length</span></code> arguments are ignored.</p>
</div></blockquote>
<p><strong>Provide ``length`` and optionally ``shape``, but not ``data``</strong></p>
<blockquote>
<div><p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<p>The default <code class="docutils literal"><span class="pre">dtype</span></code> is <code class="docutils literal"><span class="pre">np.float64</span></code>.  The <code class="docutils literal"><span class="pre">shape</span></code> argument is the array shape of a
single cell in the column.  The default <code class="docutils literal"><span class="pre">shape</span></code> is () which means a single value in
each element.</p>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">After setting the type for a column, that type cannot be changed.
If data values of a different type are assigned to the column then they
will be cast to the existing column type.</p>
</div>
</div>
<div class="section" id="format-specifier">
<span id="table-format-string"></span><h4>Format specifier<a class="headerlink" href="#format-specifier" title="Permalink to this headline">¶</a></h4>
<p>The format specifier controls the output of column values when a table or column
is printed or written to an ASCII table.  In the simplest case, it is a string
that can be passed to python&#8217;s built-in <a class="reference external" href="https://docs.python.org/library/functions.html#format">format</a> function.  For more
complicated formatting, one can also give &#8220;old-style&#8221; or &#8220;new-style&#8221;
format strings, or even a function:</p>
<p><strong>Plain format specification</strong></p>
<p>This type of string specifies directly how the value should be formatted,
using a <a class="reference external" href="https://docs.python.org/library/string.html#formatspec">format specification mini-language</a> that is
quite similar to C.</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">&quot;.4f&quot;</span></code> will give four digits after the decimal in float format, or</p>
<p><code class="docutils literal"><span class="pre">&quot;6d&quot;</span></code> will give integers in 6-character fields.</p>
</div></blockquote>
<p><strong>Old-style format string</strong></p>
<p>This corresponds to syntax like <code class="docutils literal"><span class="pre">&quot;%.4f&quot;</span> <span class="pre">%</span> <span class="pre">value</span></code> as documented in
<a class="reference external" href="http://docs.python.org/library/stdtypes.html#string-formatting-operations">String formatting operations</a>.</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">&quot;%.4f&quot;</span></code> to print four digits after the decimal in float format, or</p>
<p><code class="docutils literal"><span class="pre">&quot;%6d&quot;</span></code> to print an integer in a 6-character wide field.</p>
</div></blockquote>
<p><strong>New-style format string</strong></p>
<p>This corresponds to syntax like <code class="docutils literal"><span class="pre">&quot;{:.4f}&quot;.format(value)</span></code> as documented in
<a class="reference external" href="http://docs.python.org/library/string.html#format-string-syntax">format string syntax</a>.</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">&quot;{:.4f}&quot;</span></code> to print four digits after the decimal in float format, or</p>
<p><code class="docutils literal"><span class="pre">&quot;{:6d}&quot;</span></code> to print an integer in a 6-character wide field.</p>
</div></blockquote>
<p>Note that in either format string case any Python string that formats exactly
one value is valid, so <code class="docutils literal"><span class="pre">{:.4f}</span> <span class="pre">angstroms</span></code> or <code class="docutils literal"><span class="pre">Value:</span> <span class="pre">%12.2f</span></code> would both
work.</p>
<p><strong>Function</strong></p>
<p>The greatest flexibility can be achieved by setting a formatting function. This
function must accept a single argument (the value) and return a string. In the
following example this is used to make a LaTeX ready output:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mf">1.234e9</span><span class="p">,</span><span class="mf">2.34e-12</span><span class="p">]],</span> <span class="n">names</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">latex_exp</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">val</span> <span class="o">=</span> <span class="s">&#39;{0:8.2}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">mant</span><span class="p">,</span> <span class="n">exp</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="c"># remove leading zeros</span>
<span class="gp">... </span>    <span class="n">exp</span> <span class="o">=</span> <span class="n">exp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">exp</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s">&#39;0&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="s">&#39;$ {0} </span><span class="se">\\</span><span class="s">times 10^{{ {1} }}$&#39;</span> <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mant</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">latex_exp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="s">&#39;.4f&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;latex&#39;</span><span class="p">)</span>
<span class="go">\begin{table}</span>
<span class="go">\begin{tabular}{cc}</span>
<span class="go">a &amp; b \\</span>
<span class="go">1.0000 &amp; $  1.2 \times 10^{ +9 }$ \\</span>
<span class="go">2.0000 &amp; $  2.3 \times 10^{ -12 }$ \\</span>
<span class="go">\end{tabular}</span>
<span class="go">\end{table}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tablecolumns">
<h3>TableColumns<a class="headerlink" href="#tablecolumns" title="Permalink to this headline">¶</a></h3>
<p>Each <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> object has an attribute <code class="docutils literal"><span class="pre">columns</span></code> which is an ordered dictionary
that stores all of the <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> objects in the table (see also the <a class="reference internal" href="#column">Column</a>
section).  Technically the <code class="docutils literal"><span class="pre">columns</span></code> attribute is a <a class="reference internal" href="../api/astropy.table.TableColumns.html#astropy.table.TableColumns" title="astropy.table.TableColumns"><code class="xref py py-class docutils literal"><span class="pre">TableColumns</span></code></a> object,
which is an enhanced ordered dictionary that provides easier ways to select
multiple columns.  There are a few key points to remember:</p>
<ul class="simple">
<li>A <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> can be initialized from a <a class="reference internal" href="../api/astropy.table.TableColumns.html#astropy.table.TableColumns" title="astropy.table.TableColumns"><code class="xref py py-class docutils literal"><span class="pre">TableColumns</span></code></a> object (copy is always True).</li>
<li>Selecting multiple columns from a <a class="reference internal" href="../api/astropy.table.TableColumns.html#astropy.table.TableColumns" title="astropy.table.TableColumns"><code class="xref py py-class docutils literal"><span class="pre">TableColumns</span></code></a> object returns another
<a class="reference internal" href="../api/astropy.table.TableColumns.html#astropy.table.TableColumns" title="astropy.table.TableColumns"><code class="xref py py-class docutils literal"><span class="pre">TableColumns</span></code></a> object.</li>
<li>Select one column from a <a class="reference internal" href="../api/astropy.table.TableColumns.html#astropy.table.TableColumns" title="astropy.table.TableColumns"><code class="xref py py-class docutils literal"><span class="pre">TableColumns</span></code></a> object returns a <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>.</li>
</ul>
<p>So now look at the ways to select columns from a <a class="reference internal" href="../api/astropy.table.TableColumns.html#astropy.table.TableColumns" title="astropy.table.TableColumns"><code class="xref py py-class docutils literal"><span class="pre">TableColumns</span></code></a> object:</p>
<p><strong>Select columns by name</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="go">&lt;TableColumns names=(&#39;d&#39;,&#39;c&#39;,&#39;b&#39;)&gt;</span>
</pre></div>
</div>
<p><strong>Select columns by index slicing</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>  <span class="c"># Select first two columns</span>
<span class="go">&lt;TableColumns names=(&#39;a&#39;,&#39;b&#39;)&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c"># Reverse column order</span>
<span class="go">&lt;TableColumns names=(&#39;d&#39;,&#39;c&#39;,&#39;b&#39;,&#39;a&#39;)&gt;</span>
</pre></div>
</div>
<p><strong>Select column by index or name</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c"># Choose columns by index</span>
<span class="go">&lt;Column name=&#39;b&#39; dtype=&#39;float64&#39; length=0&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span>  <span class="c"># Choose column by name</span>
<span class="go">&lt;Column name=&#39;b&#39; dtype=&#39;float64&#39; length=0&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="subclassing-table">
<span id="id2"></span><h2>Subclassing Table<a class="headerlink" href="#subclassing-table" title="Permalink to this headline">¶</a></h2>
<p>For some applications it can be useful to subclass the <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> class in order
to introduce specialized behavior.  In addition to subclassing <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> it is
frequently desirable to change the behavior of the internal class objects which
are contained or created by a Table.  This includes rows, columns, formatting,
and the columns container.  In order to do this the subclass needs to declare
what class to use (if it is different from the built-in version).  This is done by
specifying one or more of the class attributes <code class="docutils literal"><span class="pre">Row</span></code>, <code class="docutils literal"><span class="pre">Column</span></code>,
<code class="docutils literal"><span class="pre">MaskedColumn</span></code>, <code class="docutils literal"><span class="pre">TableColumns</span></code>, or <code class="docutils literal"><span class="pre">TableFormatter</span></code>.</p>
<p>The following trivial example overrides all of these with do-nothing
subclasses, but in practice you would override only the necessary subcomponents:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="kn">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Row</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">MaskedColumn</span><span class="p">,</span> <span class="n">TableColumns</span><span class="p">,</span> <span class="n">TableFormatter</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyRow</span><span class="p">(</span><span class="n">Row</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyColumn</span><span class="p">(</span><span class="n">Column</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyMaskedColumn</span><span class="p">(</span><span class="n">MaskedColumn</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyTableColumns</span><span class="p">(</span><span class="n">TableColumns</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyTableFormatter</span><span class="p">(</span><span class="n">TableFormatter</span><span class="p">):</span> <span class="k">pass</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyTable</span><span class="p">(</span><span class="n">Table</span><span class="p">):</span>
<span class="gp">... </span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="sd">    Custom subclass of astropy.table.Table</span>
<span class="gp">... </span><span class="sd">    &quot;&quot;&quot;</span>
<span class="gp">... </span>    <span class="n">Row</span> <span class="o">=</span> <span class="n">MyRow</span>  <span class="c"># Use MyRow to create a row object</span>
<span class="gp">... </span>    <span class="n">Column</span> <span class="o">=</span> <span class="n">MyColumn</span>  <span class="c"># Column</span>
<span class="gp">... </span>    <span class="n">MaskedColumn</span> <span class="o">=</span> <span class="n">MyMaskedColumn</span>  <span class="c"># Masked Column</span>
<span class="gp">... </span>    <span class="n">TableColumns</span> <span class="o">=</span> <span class="n">MyTableColumns</span>  <span class="c"># Ordered dict holding Column objects</span>
<span class="gp">... </span>    <span class="n">TableFormatter</span> <span class="o">=</span> <span class="n">MyTableFormatter</span>  <span class="c"># Controls table output</span>
</pre></div>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>As a more practical example, suppose you have a table of data with a certain set of fixed
columns, but you also want to carry an arbitrary dictionary of keyword=value
parameters for each row and then access those values using the same item access
syntax as if they were columns.  It is assumed here that the extra parameters
are contained in a numpy object-dtype column named <code class="docutils literal"><span class="pre">params</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="kn">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Row</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ParamsRow</span><span class="p">(</span><span class="n">Row</span><span class="p">):</span>
<span class="gp">... </span>   <span class="sd">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="sd">   Row class that allows access to an arbitrary dict of parameters</span>
<span class="gp">... </span><span class="sd">   stored as a dict object in the ``params`` column.</span>
<span class="gp">... </span><span class="sd">   &quot;&quot;&quot;</span>
<span class="gp">... </span>   <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="gp">... </span>       <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">colnames</span><span class="p">:</span>
<span class="gp">... </span>           <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">ParamsRow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">(</span><span class="s">&#39;params&#39;</span><span class="p">)[</span><span class="n">item</span><span class="p">]</span>
<span class="gp">... </span>       <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>           <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">ParamsRow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__getitem__</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>   <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>       <span class="n">out</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">colnames</span> <span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="s">&#39;params&#39;</span><span class="p">]</span>
<span class="gp">... </span>       <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="s">&#39;params&#39;</span><span class="p">])]</span>
<span class="gp">... </span>       <span class="k">return</span> <span class="n">out</span> <span class="o">+</span> <span class="n">params</span>
<span class="gp">...</span>
<span class="gp">... </span>   <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>       <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
</pre></div>
</div>
<p>Now we put this into action with a trivial <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> subclass:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ParamsTable</span><span class="p">(</span><span class="n">Table</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">Row</span> <span class="o">=</span> <span class="n">ParamsRow</span>
</pre></div>
</div>
<p>First make a table and add a couple of rows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">ParamsTable</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;params&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;O&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_row</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">add_row</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;z&#39;</span><span class="p">:</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="mi">123123</span><span class="p">}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>  
<span class="go"> a   b             params</span>
<span class="go">--- --- ----------------------------</span>
<span class="go">  1 2.0         {&#39;y&#39;: 2.5, &#39;x&#39;: 1.5}</span>
<span class="go">  2 3.0 {&#39;z&#39;: &#39;hello&#39;, &#39;id&#39;: 123123}</span>
</pre></div>
</div>
<p>Now see what we have from our specialized <code class="docutils literal"><span class="pre">ParamsRow</span></code> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;y&#39;</span><span class="p">]</span>
<span class="go">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">&#39;id&#39;</span><span class="p">]</span>
<span class="go">123123</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;id&#39;, &#39;z&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="go">[2, 3.0, 123123, &#39;hello&#39;]</span>
</pre></div>
</div>
<p>To make this example really useful you might want to override
<code class="docutils literal"><span class="pre">Table.__getitem__</span></code> in order to allow table-level access to the parameter
fields.  This might look something like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ParamsTable</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
    <span class="n">Row</span> <span class="o">=</span> <span class="n">ParamsRow</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">colnames</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c"># If item is not a column name then create a new MaskedArray</span>
                <span class="c"># corresponding to self[&#39;params&#39;][item] for each row.  This</span>
                <span class="c"># might not exist in some rows so mark as masked (missing) in</span>
                <span class="c"># those cases.</span>
                <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">bool</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">params</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="s">&#39;params&#39;</span><span class="p">]]</span>
                <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                        <span class="n">mask</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
                        <span class="n">values</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">MaskedColumn</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">item</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>

        <span class="c"># ... and then the rest of the original __getitem__ ...</span>
</pre></div>
</div>
</div>
<div class="section" id="columns-and-quantities">
<h3>Columns and Quantities<a class="headerlink" href="#columns-and-quantities" title="Permalink to this headline">¶</a></h3>
<p>Astropy <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-obj docutils literal"><span class="pre">Quantity</span></code></a> objects can be handled within tables in two
complementary ways.  The first method stores the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-obj docutils literal"><span class="pre">Quantity</span></code></a>
object natively within the table via the &#8220;mixin&#8221; column protocol.  See the
sections on <a class="reference internal" href="mixin_columns.html#mixin-columns"><span>Mixin columns</span></a> and <a class="reference internal" href="mixin_columns.html#quantity-and-qtable"><span>Quantity and QTable</span></a> for details,
but in brief the key difference is using the <a class="reference internal" href="../api/astropy.table.QTable.html#astropy.table.QTable" title="astropy.table.QTable"><code class="xref py py-obj docutils literal"><span class="pre">QTable</span></code></a> class to
indicate that a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-obj docutils literal"><span class="pre">Quantity</span></code></a> should be stored natively within the
table:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="kn">import</span> <span class="n">QTable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">QTable</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;velocity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s">&#39;velocity&#39;</span><span class="p">])</span>  
<span class="go">astropy.units.quantity.Quantity</span>
</pre></div>
</div>
<p>For new code that is quantity-aware we recommend using <a class="reference internal" href="../api/astropy.table.QTable.html#astropy.table.QTable" title="astropy.table.QTable"><code class="xref py py-obj docutils literal"><span class="pre">QTable</span></code></a>,
but this may not be possible in all situations (particularly when interfacing
with legacy code that does not handle quantities) and there are
<a class="reference internal" href="mixin_columns.html#details-and-caveats"><span>Details and caveats</span></a> that apply.  In this case use the
<a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal"><span class="pre">Table</span></code></a> class, which will convert a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-obj docutils literal"><span class="pre">Quantity</span></code></a> to
a <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-obj docutils literal"><span class="pre">Column</span></code></a> object with a <code class="docutils literal"><span class="pre">unit</span></code> attribute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;velocity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s">&#39;velocity&#39;</span><span class="p">])</span>  
<span class="go">astropy.table.column.Column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;velocity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unit</span>
<span class="go">Unit(&quot;m / s&quot;)</span>
</pre></div>
</div>
<p>To learn more about using standard <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-obj docutils literal"><span class="pre">Column</span></code></a> objects with defined
units, see the <a class="reference internal" href="access_table.html#columns-with-units"><span>Columns with Units</span></a> section.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Constructing a table</a><ul>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#creating-from-scratch">Creating from scratch</a></li>
<li><a class="reference internal" href="#list-of-columns">List of columns</a></li>
<li><a class="reference internal" href="#dict-of-columns">Dict of columns</a></li>
<li><a class="reference internal" href="#row-data">Row data</a></li>
<li><a class="reference internal" href="#numpy-structured-array">NumPy structured array</a></li>
<li><a class="reference internal" href="#numpy-homogeneous-array">NumPy homogeneous array</a></li>
<li><a class="reference internal" href="#from-existing-table">From existing table</a></li>
</ul>
</li>
<li><a class="reference internal" href="#initialization-details">Initialization Details</a><ul>
<li><a class="reference internal" href="#data">data</a></li>
<li><a class="reference internal" href="#names">names</a></li>
<li><a class="reference internal" href="#dtype">dtype</a></li>
<li><a class="reference internal" href="#meta">meta</a></li>
<li><a class="reference internal" href="#copy">copy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copy-versus-reference">Copy versus Reference</a></li>
<li><a class="reference internal" href="#column-and-tablecolumns-classes">Column and TableColumns classes</a><ul>
<li><a class="reference internal" href="#column">Column</a><ul>
<li><a class="reference internal" href="#initialization-options">Initialization options</a></li>
<li><a class="reference internal" href="#format-specifier">Format specifier</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tablecolumns">TableColumns</a></li>
</ul>
</li>
<li><a class="reference internal" href="#subclassing-table">Subclassing Table</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#columns-and-quantities">Columns and Quantities</a></li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="http://github.com/astropy/astropy/tree/master/docs/table/construct_table.rst">Edit This Page on Github</a> &nbsp;
    <a href="../_sources/table/construct_table.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.5. &nbsp;
    Last built 29 Apr 2016. <br/>
  </p>
</footer>
  </body>
</html>