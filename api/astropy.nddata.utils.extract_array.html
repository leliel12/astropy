<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>extract_array &mdash; Astropy v1.2.dev14999</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2.dev14999',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="top" title="Astropy v1.2.dev14999" href="../index.html" />
    <link rel="up" title="N-dimensional datasets (astropy.nddata)" href="../nddata/index.html" />
    <link rel="next" title="add_array" href="astropy.nddata.utils.add_array.html" />
    <link rel="prev" title="UnknownUncertainty" href="astropy.nddata.UnknownUncertainty.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="astropy.nddata.utils.add_array.html" title="add_array">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="astropy.nddata.UnknownUncertainty.html" title="UnknownUncertainty">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v1.2.dev14999</a>
	 &raquo;
      </li>
      <li><a href="../nddata/index.html" accesskey="U">N-dimensional datasets (<code class="docutils literal"><span class="pre">astropy.nddata</span></code>)</a> &raquo;</li>
      
      <li>extract_array</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="extract-array">
<h1>extract_array<a class="headerlink" href="#extract-array" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="astropy.nddata.utils.extract_array">
<code class="descclassname">astropy.nddata.utils.</code><code class="descname">extract_array</code><span class="sig-paren">(</span><em>array_large</em>, <em>shape</em>, <em>position</em>, <em>mode='partial'</em>, <em>fill_value=nan</em>, <em>return_position=False</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/astropy/astropy/tree/master/astropy/nddata/utils.py#L157" title="Push the Edit button on the next page"><span class="edit-on-github viewcode-link">&nbsp;[edit on github]</span></a><a class="reference internal" href="../_modules/astropy/nddata/utils.html#extract_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#astropy.nddata.utils.extract_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a smaller array of the given shape and position from a
larger array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>array_large</strong> : <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>The array from which to extract the small array.</p>
</div></blockquote>
<p><strong>shape</strong> : tuple or int</p>
<blockquote>
<div><p>The shape of the extracted array (for 1D arrays, this can be an
<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">int</span></code></a>).  See the <code class="docutils literal"><span class="pre">mode</span></code> keyword for additional details.</p>
</div></blockquote>
<p><strong>position</strong> : tuple of numbers or number</p>
<blockquote>
<div><p>The position of the small array&#8217;s center with respect to the
large array.  The pixel coordinates should be in the same order
as the array shape.  Integer positions are at the pixel centers
(for 1D arrays, this can be a number).</p>
</div></blockquote>
<p><strong>mode</strong> : {&#8216;partial&#8217;, &#8216;trim&#8217;, &#8216;strict&#8217;}, optional</p>
<blockquote>
<div><p>The mode used for extracting the small array.  For the
<code class="docutils literal"><span class="pre">'partial'</span></code> and <code class="docutils literal"><span class="pre">'trim'</span></code> modes, a partial overlap of the
small array and the large array is sufficient.  For the
<code class="docutils literal"><span class="pre">'strict'</span></code> mode, the small array has to be fully contained
within the large array, otherwise an
<a class="reference internal" href="astropy.nddata.utils.PartialOverlapError.html#astropy.nddata.utils.PartialOverlapError" title="astropy.nddata.utils.PartialOverlapError"><code class="xref py py-obj docutils literal"><span class="pre">PartialOverlapError</span></code></a> is raised.   In all
modes, non-overlapping arrays will raise a
<a class="reference internal" href="astropy.nddata.utils.NoOverlapError.html#astropy.nddata.utils.NoOverlapError" title="astropy.nddata.utils.NoOverlapError"><code class="xref py py-obj docutils literal"><span class="pre">NoOverlapError</span></code></a>.  In <code class="docutils literal"><span class="pre">'partial'</span></code> mode,
positions in the small array that do not overlap with the large
array will be filled with <code class="docutils literal"><span class="pre">fill_value</span></code>.  In <code class="docutils literal"><span class="pre">'trim'</span></code> mode
only the overlapping elements are returned, thus the resulting
small array may be smaller than the requested <code class="docutils literal"><span class="pre">shape</span></code>.</p>
</div></blockquote>
<p><strong>fill_value</strong> : number, optional</p>
<blockquote>
<div><p>If <code class="docutils literal"><span class="pre">mode='partial'</span></code>, the value to fill pixels in the extracted
small array that do not overlap with the input <code class="docutils literal"><span class="pre">array_large</span></code>.
<code class="docutils literal"><span class="pre">fill_value</span></code> must have the same <code class="docutils literal"><span class="pre">dtype</span></code> as the
<code class="docutils literal"><span class="pre">array_large</span></code> array.</p>
</div></blockquote>
<p><strong>return_position</strong> : boolean, optional</p>
<blockquote>
<div><p>If <a class="reference external" href="http://docs.python.org/library/constants.html#True" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">True</span></code></a>, return the coordinates of <code class="docutils literal"><span class="pre">position</span></code> in the
coordinate system of the returned array.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>array_small</strong> : <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>The extracted array.</p>
</div></blockquote>
<p><strong>new_position</strong> : tuple</p>
<blockquote class="last">
<div><p>If <code class="docutils literal"><span class="pre">return_position</span></code> is true, this tuple will contain the
coordinates of the input <code class="docutils literal"><span class="pre">position</span></code> in the coordinate system
of <code class="docutils literal"><span class="pre">array_small</span></code>. Note that for partially overlapping arrays,
<code class="docutils literal"><span class="pre">new_position</span></code> might actually be outside of the
<code class="docutils literal"><span class="pre">array_small</span></code>; <code class="docutils literal"><span class="pre">array_small[new_position]</span></code> might give wrong
results if any element in <code class="docutils literal"><span class="pre">new_position</span></code> is negative.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>We consider a large array with the shape 11x10, from which we extract
a small array of shape 3x5:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.nddata.utils</span> <span class="kn">import</span> <span class="n">extract_array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">large_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">110</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extract_array</span><span class="p">(</span><span class="n">large_array</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="go">array([[65, 66, 67, 68, 69],</span>
<span class="go">       [75, 76, 77, 78, 79],</span>
<span class="go">       [85, 86, 87, 88, 89]])</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">extract_array</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/astropy.nddata.utils.extract_array.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1. &nbsp;
    Last built 12 May 2016. <br/>
  </p>
</footer>
  </body>
</html>