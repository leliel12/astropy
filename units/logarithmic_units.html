<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Magnitudes and other Logarithmic Units &mdash; Astropy v1.2.dev14979</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2.dev14979',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="top" title="Astropy v1.2.dev14979" href="../index.html" />
    <link rel="up" title="Units and Quantities (astropy.units)" href="index.html" />
    <link rel="next" title="String representations of units" href="format.html" />
    <link rel="prev" title="Decomposing and composing units" href="decomposing_and_composing.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="format.html" title="String representations of units">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="decomposing_and_composing.html" title="Decomposing and composing units">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v1.2.dev14979</a>
	 &raquo;
      </li>
      <li><a href="index.html" accesskey="U">Units and Quantities (<code class="docutils literal"><span class="pre">astropy.units</span></code>)</a> &raquo;</li>
      
      <li>Magnitudes and other Logarithmic Units</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="magnitudes-and-other-logarithmic-units">
<span id="logarithmic-units"></span><h1>Magnitudes and other Logarithmic Units<a class="headerlink" href="#magnitudes-and-other-logarithmic-units" title="Permalink to this headline">¶</a></h1>
<p>Magnitudes and logarithmic units such as <code class="docutils literal"><span class="pre">dex</span></code> and <code class="docutils literal"><span class="pre">dB</span></code> are used the
logarithm of values relative to some reference value.  Quantities with such
units are supported in <code class="docutils literal"><span class="pre">astropy</span></code> via the <a class="reference internal" href="../api/astropy.units.Magnitude.html#astropy.units.Magnitude" title="astropy.units.Magnitude"><code class="xref py py-class docutils literal"><span class="pre">Magnitude</span></code></a>,
<a class="reference internal" href="../api/astropy.units.Dex.html#astropy.units.Dex" title="astropy.units.Dex"><code class="xref py py-class docutils literal"><span class="pre">Dex</span></code></a>, and <a class="reference internal" href="../api/astropy.units.Decibel.html#astropy.units.Decibel" title="astropy.units.Decibel"><code class="xref py py-class docutils literal"><span class="pre">Decibel</span></code></a> classes.</p>
<div class="section" id="creating-logarithmic-quantities">
<h2>Creating Logarithmic Quantities<a class="headerlink" href="#creating-logarithmic-quantities" title="Permalink to this headline">¶</a></h2>
<p>One can create logarithmic quantities either directly or by multiplication with
a logarithmic unit.  For instance:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span><span class="o">,</span> <span class="nn">astropy.constants</span> <span class="k">as</span> <span class="nn">c</span><span class="o">,</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="o">-</span><span class="mf">10.</span><span class="p">)</span>
<span class="go">&lt;Magnitude -10.0 mag&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="mi">10</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">ct</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
<span class="go">&lt;Magnitude -2.5 mag(ct / s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="s">&quot;mag(ct/s)&quot;</span><span class="p">)</span>
<span class="go">&lt;Magnitude -2.5 mag(ct / s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="mf">2.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mag</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">ct</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
<span class="go">&lt;Magnitude -2.5 mag(ct / s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">Dex</span><span class="p">((</span><span class="n">c</span><span class="o">.</span><span class="n">G</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">M_sun</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">R_sun</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">cgs</span><span class="p">)</span>  
<span class="go">&lt;Dex 4.43842814841305 dex(cm / s2)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s">&quot;dex(cm/s2)&quot;</span><span class="p">)</span>
<span class="go">&lt;Dex [ 2. , 2.5, 3. , 3.5, 4. , 4.5, 5. ] dex(cm / s2)&gt;</span>
</pre></div>
</div>
<p>Above, we make use of the fact that the units <code class="docutils literal"><span class="pre">mag</span></code>, <code class="docutils literal"><span class="pre">dex</span></code>, and
<code class="docutils literal"><span class="pre">dB</span></code> are special in that, when used as functions, they return a
<a class="reference internal" href="../api/astropy.units.function.LogUnit.html#astropy.units.function.LogUnit" title="astropy.units.function.logarithmic.LogUnit"><code class="xref py py-class docutils literal"><span class="pre">LogUnit</span></code></a> instance
(<a class="reference internal" href="../api/astropy.units.function.MagUnit.html#astropy.units.function.MagUnit" title="astropy.units.function.logarithmic.MagUnit"><code class="xref py py-class docutils literal"><span class="pre">MagUnit</span></code></a>,
<a class="reference internal" href="../api/astropy.units.function.DexUnit.html#astropy.units.function.DexUnit" title="astropy.units.function.logarithmic.DexUnit"><code class="xref py py-class docutils literal"><span class="pre">DexUnit</span></code></a>, and
<a class="reference internal" href="../api/astropy.units.function.DecibelUnit.html#astropy.units.function.DecibelUnit" title="astropy.units.function.logarithmic.DecibelUnit"><code class="xref py py-class docutils literal"><span class="pre">DecibelUnit</span></code></a>,
respectively).  The same happens as required when strings are parsed
by <a class="reference internal" href="../api/astropy.units.Unit.html#astropy.units.Unit" title="astropy.units.Unit"><code class="xref py py-class docutils literal"><span class="pre">Unit</span></code></a>.</p>
<p>As for normal <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal"><span class="pre">Quantity</span></code></a> objects, one can access the value with the
<a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity.value" title="astropy.units.Quantity.value"><code class="xref py py-obj docutils literal"><span class="pre">value</span></code></a> attribute. In addition, one can convert easily
to a <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal"><span class="pre">Quantity</span></code></a> with the physical unit using the
<a class="reference internal" href="../api/astropy.units.function.FunctionQuantity.html#astropy.units.function.FunctionQuantity.physical" title="astropy.units.function.FunctionQuantity.physical"><code class="xref py py-obj docutils literal"><span class="pre">physical</span></code></a> attribute:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span> <span class="o">=</span> <span class="mf">5.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">dex</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">value</span>
<span class="go">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">physical</span>
<span class="go">&lt;Quantity 100000.0 cm / s2&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="converting-to-different-units">
<h2>Converting to different units<a class="headerlink" href="#converting-to-different-units" title="Permalink to this headline">¶</a></h2>
<p>Like <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal"><span class="pre">Quantity</span></code></a> objects, logarithmic quantities can be converted to different
units using the <a class="reference internal" href="../api/astropy.units.function.FunctionQuantity.html#astropy.units.function.FunctionQuantity.to" title="astropy.units.function.FunctionQuantity.to"><code class="xref py py-meth docutils literal"><span class="pre">to()</span></code></a> method.
Here, if the requested unit is not a logarithmic unit, the object will be
automatically converted to its physical unit:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span> <span class="o">=</span> <span class="mf">5.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">dex</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&lt;Quantity 1000.0 m / s2&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s">&#39;dex(m/s2)&#39;</span><span class="p">)</span>
<span class="go">&lt;Dex 3.0 dex(m / s2)&gt;</span>
</pre></div>
</div>
<p>For convenience, the <a class="reference internal" href="../api/astropy.units.function.FunctionQuantity.html#astropy.units.function.FunctionQuantity.si" title="astropy.units.function.FunctionQuantity.si"><code class="xref py py-obj docutils literal"><span class="pre">si</span></code></a> and
<a class="reference internal" href="../api/astropy.units.function.FunctionQuantity.html#astropy.units.function.FunctionQuantity.cgs" title="astropy.units.function.FunctionQuantity.cgs"><code class="xref py py-obj docutils literal"><span class="pre">cgs</span></code></a> attributes can be used
to convert the <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal"><span class="pre">Quantity</span></code></a> to base S.I. or c.g.s units:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">logg</span><span class="o">.</span><span class="n">si</span>
<span class="go">&lt;Dex 3.0 dex(m / s2)&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="arithmetic">
<h2>Arithmetic<a class="headerlink" href="#arithmetic" title="Permalink to this headline">¶</a></h2>
<p>Addition and subtraction work as expected for logarithmic quantities,
multiplying and dividing the physical units as appropriate.  It may be best
seen through an example of a very simple photometric reduction.  First,
calculate instrumental magnitudes assuming some count rates for three objects:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">tint</span> <span class="o">=</span> <span class="mf">1000.</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cr_b</span> <span class="o">=</span> <span class="p">([</span><span class="mf">3000.</span><span class="p">,</span> <span class="mf">100.</span><span class="p">,</span> <span class="mf">15.</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">ct</span><span class="p">)</span> <span class="o">/</span> <span class="n">tint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cr_v</span> <span class="o">=</span> <span class="p">([</span><span class="mf">4000.</span><span class="p">,</span> <span class="mf">90.</span><span class="p">,</span> <span class="mf">25.</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">ct</span><span class="p">)</span> <span class="o">/</span> <span class="n">tint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_i</span><span class="p">,</span> <span class="n">v_i</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="n">cr_b</span><span class="p">),</span> <span class="n">u</span><span class="o">.</span><span class="n">Magnitude</span><span class="p">(</span><span class="n">cr_v</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_i</span><span class="p">,</span> <span class="n">v_i</span>  
<span class="go">(&lt;Magnitude [-1.19280314, 2.5       , 4.55977185] mag(ct / s)&gt;,</span>
<span class="go"> &lt;Magnitude [-1.50514998, 2.61439373, 4.00514998] mag(ct / s)&gt;)</span>
</pre></div>
</div>
<p>Then, the instrumental B-V color is simply:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">b_i</span> <span class="o">-</span> <span class="n">v_i</span>
<span class="go">&lt;Magnitude [ 0.31234684,-0.11439373, 0.55462187] mag&gt;</span>
</pre></div>
</div>
<p>Note that the physical unit has become dimensionless.  The following step might
be used to correct for atmospheric extinction:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">atm_ext_b</span><span class="p">,</span> <span class="n">atm_ext_v</span> <span class="o">=</span> <span class="mf">0.12</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mag</span><span class="p">,</span> <span class="mf">0.08</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mag</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secz</span> <span class="o">=</span> <span class="mf">1.</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">45</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_i0</span> <span class="o">=</span> <span class="n">b_i</span> <span class="o">-</span> <span class="n">atm_ext_b</span> <span class="o">*</span> <span class="n">secz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v_i0</span> <span class="o">=</span> <span class="n">v_i</span> <span class="o">-</span> <span class="n">atm_ext_b</span> <span class="o">*</span> <span class="n">secz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_i0</span><span class="p">,</span> <span class="n">v_i0</span>  
<span class="go">(&lt;Magnitude [-1.36250876, 2.33029437, 4.39006622] mag(ct / s)&gt;,</span>
<span class="go"> &lt;Magnitude [-1.67485561, 2.4446881 , 3.83544435] mag(ct / s)&gt;)</span>
</pre></div>
</div>
<p>Since the extinction is dimensionless, the units do not change.  Now suppose
the first star has a known ST magnitude, so we can calculate zero points:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">b_ref</span><span class="p">,</span> <span class="n">v_ref</span> <span class="o">=</span> <span class="mf">17.2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span><span class="p">,</span> <span class="mf">17.0</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_ref</span><span class="p">,</span> <span class="n">v_ref</span>  
<span class="go">(&lt;Magnitude 17.2 mag(ST)&gt;, &lt;Magnitude 17.0 mag(ST)&gt;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zp_b</span><span class="p">,</span> <span class="n">zp_v</span> <span class="o">=</span> <span class="n">b_ref</span> <span class="o">-</span> <span class="n">b_i0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">v_ref</span> <span class="o">-</span> <span class="n">v_i0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zp_b</span><span class="p">,</span> <span class="n">zp_v</span>  
<span class="go">(&lt;Magnitude 18.562508764283926 mag(s ST / ct)&gt;,</span>
<span class="go"> &lt;Magnitude 18.674855605804677 mag(s ST / ct)&gt;)</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal"><span class="pre">ST</span></code> is a short-hand for the ST zero-point flux:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">0.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">erg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">AA</span><span class="p">)</span>  
<span class="go">&lt;Quantity 3.6307805477010028e-09 erg / (Angstrom cm2 s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="o">-</span><span class="mf">21.1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">erg</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">cm</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">AA</span><span class="p">)</span>  
<span class="go">&lt;Quantity 1. erg / (Angstrom cm2 s)&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">only ST <a class="reference internal" href="#h-95" id="id1">[H+95]</a> and AB <a class="reference internal" href="#og83" id="id2">[OG83]</a> magnitudes are implemented at
present, as these are defined in terms of flux densities, i.e.,
do not depend on the filter the measurement was made with.</p>
</div>
<p>Now applying the calibration, we find (note the proper change in units):</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">B</span><span class="p">,</span> <span class="n">V</span> <span class="o">=</span> <span class="n">b_i0</span> <span class="o">+</span> <span class="n">zp_b</span><span class="p">,</span> <span class="n">v_i0</span> <span class="o">+</span> <span class="n">zp_v</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span><span class="p">,</span> <span class="n">V</span>  
<span class="go">(&lt;Magnitude [ 17.2       , 20.89280314, 22.95257499] mag(ST)&gt;,</span>
<span class="go"> &lt;Magnitude [ 17.        , 21.1195437 , 22.51029996] mag(ST)&gt;)</span>
</pre></div>
</div>
<p>We could convert these magnitudes to another system, e.g., ABMag, using
appropriate equivalency:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">V</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">ABmag</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">spectral_density</span><span class="p">(</span><span class="mf">5500.</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">AA</span><span class="p">))</span>  
<span class="go">&lt;Magnitude [ 16.99023831, 21.10978201, 22.50053827] mag(AB)&gt;</span>
</pre></div>
</div>
<p>Suppose we also knew the intrinsic color of the first star, then we can
calculate the reddening:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">B_V0</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mag</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EB_V</span> <span class="o">=</span> <span class="p">(</span><span class="n">B</span> <span class="o">-</span> <span class="n">V</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">B_V0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R_V</span> <span class="o">=</span> <span class="mf">3.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A_V</span> <span class="o">=</span> <span class="n">R_V</span> <span class="o">*</span> <span class="n">EB_V</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A_B</span> <span class="o">=</span> <span class="p">(</span><span class="n">R_V</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">EB_V</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EB_V</span><span class="p">,</span> <span class="n">A_V</span><span class="p">,</span> <span class="n">A_B</span>  
<span class="go">(&lt;Magnitude 0.3999999999999993 mag&gt;,</span>
<span class="go"> &lt;Quantity 1.2399999999999978 mag&gt;,</span>
<span class="go"> &lt;Quantity 1.639999999999997 mag&gt;)</span>
</pre></div>
</div>
<p>Here, one sees that the extinctions have been converted to quantities. This
happens generally for division and multiplication, since these processes
work only for dimensionless magnitudes (otherwise, the physical unit would have
to be raised to some power), and <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal"><span class="pre">Quantity</span></code></a> objects, unlike logarithmic
quantities, allow units like <code class="docutils literal"><span class="pre">mag</span> <span class="pre">/</span> <span class="pre">d</span></code>.</p>
<p>Note that one can take the automatic unit conversion quite far (perhaps too
far, but it is fun).  For instance, suppose we also knew the absolute
magnitude, then we can define the appropriate corresponding luminosity and
absolute magnitude and calculate the distance modulus:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ST0abs</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s">&#39;STabs&#39;</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">STmag</span><span class="o">.</span><span class="n">physical_unit</span> <span class="o">*</span> <span class="mf">4.</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="mf">10.</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">pc</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">STabsmag</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">mag</span><span class="p">(</span><span class="n">ST0abs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M_V</span> <span class="o">=</span> <span class="mf">5.76</span> <span class="o">*</span> <span class="n">STabsmag</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M_B</span> <span class="o">=</span> <span class="n">M_V</span> <span class="o">+</span> <span class="n">B_V0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DM</span> <span class="o">=</span> <span class="n">V</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">A_V</span> <span class="o">-</span> <span class="n">M_V</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M_V</span><span class="p">,</span> <span class="n">M_B</span><span class="p">,</span> <span class="n">DM</span>  
<span class="go">(&lt;Magnitude 5.76 mag(STabs)&gt;,</span>
<span class="go"> &lt;Magnitude 5.56 mag(STabs)&gt;,</span>
<span class="go"> &lt;Magnitude 10.000000000000002 mag(ST / STabs)&gt;)</span>
</pre></div>
</div>
<p>With a proper equivalency, we can also convert to distance without remembering
the 5-5log rule:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">radius_and_inverse_area</span> <span class="o">=</span> <span class="p">[(</span><span class="n">u</span><span class="o">.</span><span class="n">pc</span><span class="p">,</span> <span class="n">u</span><span class="o">.</span><span class="n">pc</span><span class="o">**-</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="mf">4.</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="mf">4.</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DM</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">pc</span><span class="p">,</span> <span class="n">equivalencies</span><span class="o">=</span><span class="n">radius_and_inverse_area</span><span class="p">)</span>  
<span class="go">&lt;Quantity 1000.0000000000009 pc&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="numpy-functions">
<h2>Numpy functions<a class="headerlink" href="#numpy-functions" title="Permalink to this headline">¶</a></h2>
<p>For logarithmic quantities, most numpy functions and many array methods do not
make sense, hence they are disabled.  But one can use those one would expect to
work:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">v_i</span><span class="p">)</span>  
<span class="go">&lt;Magnitude 4.005149978319905 mag(ct / s)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">v_i</span><span class="p">)</span>  
<span class="go">&lt;Magnitude 2.339711494548601 mag&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is implemented by having a list of supported ufuncs in
<code class="docutils literal"><span class="pre">units/function/core.py</span></code> and by explicitly disabling some
array methods in <a class="reference internal" href="../api/astropy.units.function.FunctionQuantity.html#astropy.units.function.FunctionQuantity" title="astropy.units.function.FunctionQuantity"><code class="xref py py-class docutils literal"><span class="pre">FunctionQuantity</span></code></a>.
If you believe a function or method is incorrectly treated,
please <a class="reference external" href="http://www.astropy.org/contribute.html">let us know</a>.</p>
</div>
</div>
<div class="section" id="dimensionless-logarithmic-quantities">
<h2>Dimensionless logarithmic quantities<a class="headerlink" href="#dimensionless-logarithmic-quantities" title="Permalink to this headline">¶</a></h2>
<p>Dimensionless quantities are treated somewhat specially, in that, if needed,
logarithmic quantities will be converted to normal <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal"><span class="pre">Quantity</span></code></a> objects with the
appropriate unit of <code class="docutils literal"><span class="pre">mag</span></code>, <code class="docutils literal"><span class="pre">dB</span></code>, or <code class="docutils literal"><span class="pre">dex</span></code>.  With this, it is possible to
use composite units like <code class="docutils literal"><span class="pre">mag/d</span></code> or <code class="docutils literal"><span class="pre">dB/m</span></code>, which cannot easily be
supported as logarithmic units.  For instance:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dBm</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">dB</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">mW</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal_in</span><span class="p">,</span> <span class="n">signal_out</span> <span class="o">=</span> <span class="mf">100.</span> <span class="o">*</span> <span class="n">dBm</span><span class="p">,</span> <span class="mi">50</span> <span class="o">*</span> <span class="n">dBm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cable_loss</span> <span class="o">=</span> <span class="p">(</span><span class="n">signal_in</span> <span class="o">-</span> <span class="n">signal_out</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">100.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal_in</span><span class="p">,</span> <span class="n">signal_out</span><span class="p">,</span> <span class="n">cable_loss</span>
<span class="go">(&lt;Decibel 100.0 dB(mW)&gt;, &lt;Decibel 50.0 dB(mW)&gt;, &lt;Quantity 0.5 dB / m&gt;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">better_cable_loss</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">dB</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal_in</span> <span class="o">-</span> <span class="n">better_cable_loss</span> <span class="o">*</span> <span class="mf">100.</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>
<span class="go">&lt;Decibel 80.0 dB(mW)&gt;</span>
</pre></div>
</div>
<table class="docutils citation" frame="void" id="h-95" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[H+95]</a></td><td>E.g., Holtzman et al., 1995, <a class="reference external" href="http://adsabs.harvard.edu/abs/1995PASP..107.1065H">PASP 107, 1065</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="og83" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[OG83]</a></td><td>Oke, J.B., &amp; Gunn, J. E., 1983, <a class="reference external" href="http://adsabs.harvard.edu/abs/1983ApJ...266..713O">ApJ 266, 713</a></td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Magnitudes and other Logarithmic Units</a><ul>
<li><a class="reference internal" href="#creating-logarithmic-quantities">Creating Logarithmic Quantities</a></li>
<li><a class="reference internal" href="#converting-to-different-units">Converting to different units</a></li>
<li><a class="reference internal" href="#arithmetic">Arithmetic</a></li>
<li><a class="reference internal" href="#numpy-functions">Numpy functions</a></li>
<li><a class="reference internal" href="#dimensionless-logarithmic-quantities">Dimensionless logarithmic quantities</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="http://github.com/astropy/astropy/tree/master/docs/units/logarithmic_units.rst">Edit This Page on Github</a> &nbsp;
    <a href="../_sources/units/logarithmic_units.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1. &nbsp;
    Last built 29 Apr 2016. <br/>
  </p>
</footer>
  </body>
</html>