<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Solar System Ephemerides &mdash; Astropy v1.2.dev15690</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2.dev15690',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="top" title="Astropy v1.2.dev15690" href="../index.html" />
    <link rel="up" title="Astronomical Coordinate Systems (astropy.coordinates)" href="index.html" />
    <link rel="next" title="Formatting Coordinate Strings" href="formatting.html" />
    <link rel="prev" title="Transforming Between Systems" href="transforming.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="formatting.html" title="Formatting Coordinate Strings">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="transforming.html" title="Transforming Between Systems">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v1.2.dev15690</a>
	 &raquo;
      </li>
      <li><a href="index.html" accesskey="U">Astronomical Coordinate Systems (<code class="docutils literal"><span class="pre">astropy.coordinates</span></code>)</a> &raquo;</li>
      
      <li>Solar System Ephemerides</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="solar-system-ephemerides">
<span id="astropy-coordinates-solarsystem"></span><h1>Solar System Ephemerides<a class="headerlink" href="#solar-system-ephemerides" title="Permalink to this headline">Â¶</a></h1>
<p><a class="reference internal" href="index.html#module-astropy.coordinates" title="astropy.coordinates"><code class="xref py py-obj docutils literal"><span class="pre">astropy.coordinates</span></code></a> can calculate the <a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="astropy.coordinates.SkyCoord"><code class="xref py py-obj docutils literal"><span class="pre">SkyCoord</span></code></a> of some of the major solar
system objects. By default, it uses approximate orbital elements calculated
using built-in <a class="reference external" href="https://github.com/liberfa/erfa">ERFA</a> routines, but it can
also use more precise ones using the JPL ephemerides (which are derived from
dynamical models).  The default JPL ephemerides (DE430) provide predictions
valid roughly for years between 1550 and 2650. The file is 115 MB and will need
to be downloaded the first time you use this functionality, but will be cached
after that.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using JPL ephemerides requires that the <a class="reference external" href="https://pypi.python.org/pypi/jplephem">jplephem</a> package be installed. This is
most easily achieved via <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">jplephem</span></code>, although whatever
package management system you use might have it as well.</p>
</div>
<p>Three functions are provided; <a class="reference internal" href="../api/astropy.coordinates.get_body.html#astropy.coordinates.get_body" title="astropy.coordinates.get_body"><code class="xref py py-meth docutils literal"><span class="pre">get_body()</span></code></a>,
<a class="reference internal" href="../api/astropy.coordinates.get_moon.html#astropy.coordinates.get_moon" title="astropy.coordinates.get_moon"><code class="xref py py-meth docutils literal"><span class="pre">get_moon()</span></code></a> and
<a class="reference internal" href="../api/astropy.coordinates.get_body_barycentric.html#astropy.coordinates.get_body_barycentric" title="astropy.coordinates.get_body_barycentric"><code class="xref py py-meth docutils literal"><span class="pre">get_body_barycentric()</span></code></a>. The first two functions
return <a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="astropy.coordinates.SkyCoord"><code class="xref py py-obj docutils literal"><span class="pre">SkyCoord</span></code></a> objects in the <a class="reference internal" href="../api/astropy.coordinates.GCRS.html#astropy.coordinates.GCRS" title="astropy.coordinates.GCRS"><code class="xref py py-obj docutils literal"><span class="pre">GCRS</span></code></a> frame, whilst the
latter returns a <a class="reference internal" href="../api/astropy.coordinates.CartesianRepresentation.html#astropy.coordinates.CartesianRepresentation" title="astropy.coordinates.CartesianRepresentation"><code class="xref py py-obj docutils literal"><span class="pre">CartesianRepresentation</span></code></a> of the
barycentric position of a body (i.e in the <a class="reference internal" href="../api/astropy.coordinates.ICRS.html#astropy.coordinates.ICRS" title="astropy.coordinates.ICRS"><code class="xref py py-obj docutils literal"><span class="pre">ICRS</span></code></a> frame).</p>
<p>Here is an example of using these functions with built-in ephemerides, i.e.,
without the need to download a large ephemerides file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">solar_system_ephemeris</span><span class="p">,</span> <span class="n">EarthLocation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">get_body_barycentric</span><span class="p">,</span> <span class="n">get_body</span><span class="p">,</span> <span class="n">get_moon</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Time</span><span class="p">(</span><span class="s">&quot;2014-09-22 23:22&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loc</span> <span class="o">=</span> <span class="n">EarthLocation</span><span class="o">.</span><span class="n">of_site</span><span class="p">(</span><span class="s">&#39;greenwich&#39;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">solar_system_ephemeris</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&#39;builtin&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">jup</span> <span class="o">=</span> <span class="n">get_body</span><span class="p">(</span><span class="s">&#39;jupiter&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">jup</span>  
<span class="go">&lt;SkyCoord (GCRS: obstime=2014-09-22 23:22:00.000, obsgeoloc=[ 3949481.6898847   -550931.9118969   4961151.73733443] m, obsgeovel=[  40.1745933   288.00078051   -0.        ] m / s): (ra, dec, distance) in (deg, deg, AU)</span>
<span class="go">    (136.91116201, 17.02935408, 5.94386022)&gt;</span>
</pre></div>
</div>
<p>Above, we used <code class="docutils literal"><span class="pre">solar_system_ephemeris</span></code> as a context, which sets the default
ephemeris while in the <code class="docutils literal"><span class="pre">with</span></code> clause, and resets it at the end.</p>
<p>To get more precise positions, one could use the <code class="docutils literal"><span class="pre">de430</span></code> ephemeris mentioned
above, but between 1950 and 2050 one could also opt for the <code class="docutils literal"><span class="pre">de432s</span></code>
ephemeris, which is stored in a smaller, ~10 MB, file (which will be
downloaded and cached when the ephemeris is set).:</p>
<div class="highlight-python"><div class="highlight"><pre>.. doctest-requires:: jplephem
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">solar_system_ephemeris</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&#39;de432s&#39;</span><span class="p">)</span> 
<span class="go">&lt;ScienceState solar_system_ephemeris: &#39;de432s&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_body</span><span class="p">(</span><span class="s">&#39;jupiter&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span> 
<span class="go">&lt;SkyCoord (GCRS: obstime=2014-09-22 23:22:00.000, obsgeoloc=[ 3949481.6898847   -550931.9118969   4961151.73733443] m, obsgeovel=[  40.1745933   288.00078051   -0.        ] m / s): (ra, dec, distance) in (deg, deg, km)</span>
<span class="go">    (136.90234781, 17.03160686, 889196019.15383542)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_moon</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span> 
<span class="go">&lt;SkyCoord (GCRS: obstime=2014-09-22 23:22:00.000, obsgeoloc=[ 3949481.6898847   -550931.9118969   4961151.73733443] m, obsgeovel=[  40.1745933   288.00078051   -0.        ] m / s): (ra, dec, distance) in (deg, deg, km)</span>
<span class="go">    (165.51840735, 2.32900633, 407226.68749643)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_body_barycentric</span><span class="p">(</span><span class="s">&#39;moon&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> 
<span class="go">&lt;CartesianRepresentation (x, y, z) in km</span>
<span class="go">    (150107535.1073409, -866789.11996916, -418963.55218495)&gt;</span>
</pre></div>
</div>
<p>For one-off calculations with a given ephemeris, one can also pass it directly
to the various functions:</p>
<div class="highlight-python"><div class="highlight"><pre>.. doctest-requires:: jplephem
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_body_barycentric</span><span class="p">(</span><span class="s">&#39;moon&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">ephemeris</span><span class="o">=</span><span class="s">&#39;de432s&#39;</span><span class="p">)</span>
<span class="gp">... </span>
<span class="go">&lt;CartesianRepresentation (x, y, z) in km</span>
<span class="go">    (150107535.1073409, -866789.11996916, -418963.55218495)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_body_barycentric</span><span class="p">(</span><span class="s">&#39;moon&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">ephemeris</span><span class="o">=</span><span class="s">&#39;builtin&#39;</span><span class="p">)</span>
<span class="gp">... </span>
<span class="go">&lt;CartesianRepresentation (x, y, z) in AU</span>
<span class="go">  (1.00340677, -0.00579439, -0.00280071)&gt;</span>
</pre></div>
</div>
<p>For a list of the bodies for which positions can be calculated, do:</p>
<div class="highlight-python"><div class="highlight"><pre>.. note that we skip the next test if jplephem is not installed because if
.. jplephem was not installed, we didn&#39;t change the science state higher up
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">solar_system_ephemeris</span><span class="o">.</span><span class="n">bodies</span> 
<span class="go">(&#39;sun&#39;,</span>
<span class="go"> &#39;mercury&#39;,</span>
<span class="go"> &#39;venus&#39;,</span>
<span class="go"> &#39;earth-moon-barycenter&#39;,</span>
<span class="go"> &#39;earth&#39;,</span>
<span class="go"> &#39;moon&#39;,</span>
<span class="go"> &#39;mars&#39;,</span>
<span class="go"> &#39;jupiter&#39;,</span>
<span class="go"> &#39;saturn&#39;,</span>
<span class="go"> &#39;uranus&#39;,</span>
<span class="go"> &#39;neptune&#39;,</span>
<span class="go"> &#39;pluto&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solar_system_ephemeris</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&#39;builtin&#39;</span><span class="p">)</span>
<span class="go">&lt;ScienceState solar_system_ephemeris: &#39;builtin&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solar_system_ephemeris</span><span class="o">.</span><span class="n">bodies</span>
<span class="go">(&#39;earth&#39;,</span>
<span class="go"> &#39;sun&#39;,</span>
<span class="go"> &#39;mercury&#39;,</span>
<span class="go"> &#39;venus&#39;,</span>
<span class="go"> &#39;earth-moon-barycenter&#39;,</span>
<span class="go"> &#39;moon&#39;,</span>
<span class="go"> &#39;mars&#39;,</span>
<span class="go"> &#39;jupiter&#39;,</span>
<span class="go"> &#39;saturn&#39;,</span>
<span class="go"> &#39;uranus&#39;,</span>
<span class="go"> &#39;neptune&#39;)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While the sun is included in the these ephemerides, it is important to
recognize that <a class="reference internal" href="../api/astropy.coordinates.get_sun.html#astropy.coordinates.get_sun" title="astropy.coordinates.get_sun"><code class="xref py py-obj docutils literal"><span class="pre">get_sun</span></code></a> always uses the built-in,
polynomial model (as this requires no special download). So it is not safe
to assume that <code class="docutils literal"><span class="pre">get_body(time,</span> <span class="pre">'sun')</span></code> and <code class="docutils literal"><span class="pre">get_sun(time)</span></code> will give
the same result.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Solar System Ephemerides</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="http://github.com/astropy/astropy/tree/master/docs/coordinates/solarsystem.rst">Edit This Page on Github</a> &nbsp;
    <a href="../_sources/coordinates/solarsystem.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1. &nbsp;
    Last built 10 Jun 2016. <br/>
  </p>
</footer>
  </body>
</html>