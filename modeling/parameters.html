<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Parameters &mdash; Astropy v1.2.dev15690</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2.dev15690',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="top" title="Astropy v1.2.dev15690" href="../index.html" />
    <link rel="up" title="Models and Fitting (astropy.modeling)" href="index.html" />
    <link rel="next" title="Fitting Models to Data" href="fitting.html" />
    <link rel="prev" title="Instantiating and Evaluating Models" href="models.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="fitting.html" title="Fitting Models to Data">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="models.html" title="Instantiating and Evaluating Models">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v1.2.dev15690</a>
	 &raquo;
      </li>
      <li><a href="index.html" accesskey="U">Models and Fitting (<code class="docutils literal"><span class="pre">astropy.modeling</span></code>)</a> &raquo;</li>
      
      <li>Parameters</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="parameters">
<span id="modeling-parameters"></span><h1>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h1>
<p>Most models in this package are &#8220;parametric&#8221; in the sense that each subclass
of <a class="reference internal" href="../api/astropy.modeling.Model.html#astropy.modeling.Model" title="astropy.modeling.Model"><code class="xref py py-obj docutils literal"><span class="pre">Model</span></code></a> represents an entire family of models, each
member of which is distinguished by a fixed set of parameters that fit that
model to some some dependent and independent variable(s) (also referred to
throughout the the package as the outputs and inputs of the model).</p>
<p>Parameters are used in three different contexts within this package: Basic
evaluation of models, fitting models to data, and providing information about
individual models to users (including documentation).</p>
<p>Most subclasses of <a class="reference internal" href="../api/astropy.modeling.Model.html#astropy.modeling.Model" title="astropy.modeling.Model"><code class="xref py py-obj docutils literal"><span class="pre">Model</span></code></a>&#8211;specifically those implementing a
specific physical or statistical model, have a fixed set of parameters that can
be specified for instances of that model.  There are a few classes of models
(in particular polynomials) in which the number of parameters depends on some
other property of the model (the degree in the case of polynomials).</p>
<p>Models maintain a list of parameter names,
<a class="reference internal" href="../api/astropy.modeling.Model.html#astropy.modeling.Model.param_names" title="astropy.modeling.Model.param_names"><code class="xref py py-obj docutils literal"><span class="pre">param_names</span></code></a>.  Single parameters are instances of
<a class="reference internal" href="../api/astropy.modeling.Parameter.html#astropy.modeling.Parameter" title="astropy.modeling.Parameter"><code class="xref py py-obj docutils literal"><span class="pre">Parameter</span></code></a> which provide a proxy for the actual parameter
values.  Simple mathematical operations can be performed with them, but they
also contain additional attributes specific to model parameters, such as any
constraints on their values and documentation.</p>
<p>Parameter values may be scalars <em>or</em> array values.  Some parameters are
required by their very nature to be arrays (such as the transformation matrix
for an <a class="reference internal" href="../api/astropy.modeling.projections.AffineTransformation2D.html#astropy.modeling.projections.AffineTransformation2D" title="astropy.modeling.projections.AffineTransformation2D"><code class="xref py py-obj docutils literal"><span class="pre">AffineTransformation2D</span></code></a>).  In most other
cases, however, array-valued parameters have no meaning specific to the model,
and are simply combined with input arrays during model evaluation according to
the standard <a class="reference external" href="http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html">Numpy broadcasting rules</a>.</p>
<div class="section" id="parameter-examples">
<h2>Parameter examples<a class="headerlink" href="#parameter-examples" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Model classes can be introspected directly to find out what parameters they
accept:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.modeling</span> <span class="kn">import</span> <span class="n">models</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">models</span><span class="o">.</span><span class="n">Gaussian1D</span><span class="o">.</span><span class="n">param_names</span>
<span class="go">(&#39;amplitude&#39;, &#39;mean&#39;, &#39;stddev&#39;)</span>
</pre></div>
</div>
<p>The order of the items in the <code class="docutils literal"><span class="pre">param_names</span></code> list is relevant&#8211;this
is the same order in which values for those parameters should be passed in
when constructing an instance of that model:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Gaussian1D</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>  
<span class="go">&lt;Gaussian1D(amplitude=1.0, mean=0.0, stddev=0.1)&gt;</span>
</pre></div>
</div>
<p>However, parameters may also be given as keyword arguments (in any order):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Gaussian1D</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">stddev</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>  
<span class="go">&lt;Gaussian1D(amplitude=2.0, mean=0.0, stddev=0.2)&gt;</span>
</pre></div>
</div>
<p>So all that really matters is knowing the names (and meanings) of the
parameters that each model accepts.  More information about an individual
model can also be obtained using the <a class="reference external" href="http://docs.python.org/3/library/functions.html#help" title="(in Python v3.5)"><code class="xref py py-obj docutils literal"><span class="pre">help</span></code></a> built-in:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Gaussian1D</span><span class="p">)</span>  
</pre></div>
</div>
</li>
<li><p class="first">Some types of models can have different numbers of parameters depending
on other properties of the model.  In particular, the parameters of
polynomial models are their coefficients, the number of which depends on the
polynomial&#8217;s degree:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Polynomial1D</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">c0</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">c1</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">c2</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">c3</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">param_names</span>
<span class="go">(&#39;c0&#39;, &#39;c1&#39;, &#39;c2&#39;, &#39;c3&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span>
<span class="go">&lt;Polynomial1D(3, c0=1.0, c1=0.0, c2=2.0, c3=3.0)&gt;</span>
</pre></div>
</div>
<p>For the basic <a class="reference internal" href="../api/astropy.modeling.polynomial.Polynomial1D.html#astropy.modeling.polynomial.Polynomial1D" title="astropy.modeling.polynomial.Polynomial1D"><code class="xref py py-obj docutils literal"><span class="pre">Polynomial1D</span></code></a> class the
parameters are named <code class="docutils literal"><span class="pre">c0</span></code> through <code class="docutils literal"><span class="pre">cN</span></code> where <code class="docutils literal"><span class="pre">N</span></code> is the degree of the
polynomial.  The above example represents the polynomial <img class="math" src="../_images/math/c84af62dfcd2a50a0043612c5f941de1538ce2d0.png" alt="3x^3 + 2x^2 +
1"/>.</p>
</li>
<li><p class="first">Some models also have default values for one or more of their parameters.
For polynomial models, for example, the default value of all coefficients is
zero&#8211;this allows a polynomial instance to be created without specifying any
of the coefficients initially:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Polynomial1D</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span>
<span class="go">&lt;Polynomial1D(4, c0=0.0, c1=0.0, c2=0.0, c3=0.0, c4=0.0)&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">Parameters can the be set/updated by accessing attributes on the model of
the same names as the parameters:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span><span class="o">.</span><span class="n">c4</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span><span class="o">.</span><span class="n">c2</span> <span class="o">=</span> <span class="mf">3.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span><span class="o">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span>
<span class="go">&lt;Polynomial1D(4, c0=2.0, c1=0.0, c2=3.5, c3=0.0, c4=1.0)&gt;</span>
</pre></div>
</div>
<p>This example now represents the polynomial <img class="math" src="../_images/math/7c1ae3f92a9c147b873b0b8f82299eca06c76cf7.png" alt="x^4 + 3.5x^2 + 2"/>.</p>
</li>
<li><p class="first">It is possible to set the coefficients of a polynomial by passing the
parameters in a dictionary, since all parameters can be provided as keyword
arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ch2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Chebyshev2D</span><span class="p">(</span><span class="n">x_degree</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y_degree</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coeffs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">10</span><span class="p">])</span>
<span class="gp">... </span>              <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ch2</span><span class="o">.</span><span class="n">param_names</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ch2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Chebyshev2D</span><span class="p">(</span><span class="n">x_degree</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y_degree</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">n_models</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                         <span class="o">**</span><span class="n">coeffs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ch2</span><span class="o">.</span><span class="n">param_sets</span>
<span class="go">array([[  0.,  10.],</span>
<span class="go">       [  1.,  11.],</span>
<span class="go">       [  2.,  12.],</span>
<span class="go">       [  3.,  13.],</span>
<span class="go">       [  4.,  14.],</span>
<span class="go">       [  5.,  15.],</span>
<span class="go">       [  6.,  16.],</span>
<span class="go">       [  7.,  17.],</span>
<span class="go">       [  8.,  18.],</span>
<span class="go">       [  9.,  19.],</span>
<span class="go">       [ 10.,  20.],</span>
<span class="go">       [ 11.,  21.]])</span>
</pre></div>
</div>
</li>
<li><p class="first">Or directly, using keyword arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ch2</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Chebyshev2D</span><span class="p">(</span><span class="n">x_degree</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y_degree</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                         <span class="n">c0_0</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="n">c0_1</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">13</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="n">c0_2</span><span class="o">=</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="n">c0_3</span><span class="o">=</span><span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">19</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="n">c1_0</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="n">c1_1</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="n">c1_2</span><span class="o">=</span><span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">17</span><span class="p">],</span> <span class="n">c1_3</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,],</span>
<span class="gp">... </span>                         <span class="n">c2_0</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="n">c2_1</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="n">c2_2</span><span class="o">=</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">18</span><span class="p">],</span> <span class="n">c2_3</span><span class="o">=</span><span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">21</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p class="first">Individual parameters values may be arrays of different sizes and shapes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Polynomial1D</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c0</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">c1</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="n">c2</span><span class="o">=</span><span class="p">[[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="go">array([[ 21.,  27.],</span>
<span class="go">       [ 29.,  35.],</span>
<span class="go">       [ 37.,  43.]])</span>
</pre></div>
</div>
<p>This is equivalent to evaluating the Numpy expression:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span>
<span class="gp">... </span>               <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span>
<span class="gp">... </span>               <span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">*</span> <span class="mf">2.0</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">c1</span> <span class="o">*</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="mf">1.0</span>
<span class="go">array([[ 21.,  27.],</span>
<span class="go">       [ 29.,  35.],</span>
<span class="go">       [ 37.,  43.]])</span>
</pre></div>
</div>
<p>Note that in most cases, when using array-valued parameters, the parameters
must obey the standard broadcasting rules for Numpy arrays with respect to
each other:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">models</span><span class="o">.</span><span class="n">Polynomial1D</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c0</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">c1</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="n">c2</span><span class="o">=</span><span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">])</span>  
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">InputParameterError</span>: <span class="n">Parameter u&#39;c1&#39; of shape (2,) cannot be broadcast</span>
<span class="go">with parameter u&#39;c2&#39; of shape (3,).  All parameter arrays must have</span>
<span class="go">shapes that are mutually compatible according to the broadcasting rules.</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Parameters</a><ul>
<li><a class="reference internal" href="#parameter-examples">Parameter examples</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="http://github.com/astropy/astropy/tree/master/docs/modeling/parameters.rst">Edit This Page on Github</a> &nbsp;
    <a href="../_sources/modeling/parameters.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1. &nbsp;
    Last built 10 Jun 2016. <br/>
  </p>
</footer>
  </body>
</html>