<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What’s New in Astropy 1.0? &mdash; Astropy v1.2.dev15003</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2.dev15003',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="top" title="Astropy v1.2.dev15003" href="../index.html" />
    <link rel="up" title="Major Release History" href="index.html" />
    <link rel="next" title="What’s New in Astropy 0.4?" href="0.4.html" />
    <link rel="prev" title="What’s New in Astropy 1.1?" href="1.1.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="0.4.html" title="What’s New in Astropy 0.4?">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="1.1.html" title="What’s New in Astropy 1.1?">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Astropy v1.2.dev15003</a>
	 &raquo;
      </li>
      <li><a href="index.html" accesskey="U">Major Release History</a> &raquo;</li>
      
      <li>What&#8217;s New in Astropy 1.0?</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-astropy-1-0">
<span id="whatsnew-1-0"></span><h1>What&#8217;s New in Astropy 1.0?<a class="headerlink" href="#what-s-new-in-astropy-1-0" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Astropy 1.0 is a major release that adds significant new functionality since the 0.4.x series of releases.</p>
<p>In particular, coordinate conversions to/from Altitude/Azimuth are now
supported (see <a class="reference internal" href="#support-for-alt-az-coordinates">Support for Alt/Az coordinates</a>), a new package to help with
data visualization has been added (see <a class="reference internal" href="#whatsnew-viz"><span>New data visualization subpackage</span></a>), and a new package
for common analytic functions is now also included (see
<a class="reference internal" href="#whatsnew-analytical-functions"><span>New analytic functions subpackage</span></a>).</p>
<p>The <a class="reference internal" href="../io/ascii/index.html#io-ascii"><span>ASCII Tables (astropy.io.ascii)</span></a> sub-package now includes fast C-based
readers/writers for common formats, and also supports a new ASCII format that
better preserves meta-data (see <a class="reference internal" href="#whatsnew-io-ascii"><span>New ASCII features</span></a>), the modeling package
has been significantly improved and now supports composite models (see
<a class="reference internal" href="#whatsnew-modeling"><span>New modeling features</span></a>), and the <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> class can now
include <a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="astropy.coordinates.SkyCoord"><code class="xref py py-class docutils literal"><span class="pre">SkyCoord</span></code></a> and <a class="reference internal" href="../api/astropy.time.Time.html#astropy.time.Time" title="astropy.time.Time"><code class="xref py py-class docutils literal"><span class="pre">Time</span></code></a>
objects containing arrays (see <a class="reference internal" href="#whatsnew-table"><span>New Table features</span></a>).</p>
<p>In addition to these major changes, Astropy 1.0 includes a large number of
smaller improvements and bug fixes, which are described in the <a class="reference internal" href="../changelog.html#changelog"><span>Full Changelog</span></a>.
By the numbers:</p>
<ul class="simple">
<li>681 issues have been closed since v0.4</li>
<li>419 pull requests have been merged since v0.4</li>
<li>122 distinct people have contributed code</li>
</ul>
</div>
<div class="section" id="about-long-term-support">
<h2>About Long-term support<a class="headerlink" href="#about-long-term-support" title="Permalink to this headline">¶</a></h2>
<p>Astropy v1.0 is a long-term support (LTS) release.  This means v1.0 will
be supported with bug fixes for 2 years from its release, rather than 6
months like the non-LTS releases. More details about this, including a
wider rationale for Astropy&#8217;s version numbering scheme, can be found in
<a class="reference external" href="https://github.com/astropy/astropy-APEs/blob/master/APE2.rst">Astropy Proposal for Enhancement 2</a>.</p>
<p>Note that different sub-packages in Astropy have different stability levels. See
the <a class="reference internal" href="../stability.html"><em>Current status of sub-packages</em></a> page for an overview of the status of major components.
LTS can be expected for anything with green or blue (stable or mature) status on
that page.  For yellow (in development) subpackages, LTS <em>may</em> be provided, but
major changes may prevent backporting of complex changes, particularly if they
are connected to new features.</p>
</div>
<div class="section" id="support-for-alt-az-coordinates">
<h2>Support for Alt/Az coordinates<a class="headerlink" href="#support-for-alt-az-coordinates" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../coordinates/index.html#module-astropy.coordinates" title="astropy.coordinates"><code class="xref py py-obj docutils literal"><span class="pre">coordinates</span></code></a> package now supports conversion to/from AltAz
coordinates.  This means <a class="reference internal" href="../coordinates/index.html#module-astropy.coordinates" title="astropy.coordinates"><code class="xref py py-obj docutils literal"><span class="pre">coordinates</span></code></a> can now be used for planning
observations.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span><span class="p">,</span> <span class="n">EarthLocation</span><span class="p">,</span> <span class="n">AltAz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">greenwich</span> <span class="o">=</span> <span class="n">EarthLocation</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">51.477</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">,</span><span class="n">lon</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">albireo</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="s">&#39;19h30m43.2805s +27d57m34.8483s&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">altaz</span> <span class="o">=</span> <span class="n">albireo</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">AltAz</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">greenwich</span><span class="p">,</span> <span class="n">obstime</span><span class="o">=</span><span class="n">Time</span><span class="p">(</span><span class="s">&#39;2014-6-21 0:00&#39;</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">altaz</span><span class="o">.</span><span class="n">alt</span><span class="p">,</span> <span class="n">altaz</span><span class="o">.</span><span class="n">az</span>
<span class="go">60d32m28.4576s 133d45m36.4967s</span>
</pre></div>
</div>
<p>For a more detailed outline of this new functionality, see the
<a class="reference internal" href="../coordinates/observing-example.html#observing-example"><span>Example: Observation Planning</span></a> and the <a class="reference internal" href="../api/astropy.coordinates.AltAz.html#astropy.coordinates.AltAz" title="astropy.coordinates.AltAz"><code class="xref py py-obj docutils literal"><span class="pre">AltAz</span></code></a> documentation.</p>
<p>To enable this functionality, <a class="reference internal" href="../coordinates/index.html#module-astropy.coordinates" title="astropy.coordinates"><code class="xref py py-obj docutils literal"><span class="pre">coordinates</span></code></a> now also contains
the full IAU-sanctioned coordinate transformation stack from ICRS to AltAz.
To view the full set of coordinate frames now available, see the coordinates
<a class="reference internal" href="../coordinates/index.html#astropy-coordinates-api"><span>Reference/API</span></a>.</p>
</div>
<div class="section" id="new-galactocentric-coordinate-frame">
<h2>New Galactocentric coordinate frame<a class="headerlink" href="#new-galactocentric-coordinate-frame" title="Permalink to this headline">¶</a></h2>
<p>Added a new, customizable <a class="reference internal" href="../api/astropy.coordinates.Galactocentric.html#astropy.coordinates.Galactocentric" title="astropy.coordinates.Galactocentric"><code class="xref py py-class docutils literal"><span class="pre">Galactocentric</span></code></a>
coordinate frame. The other coordinate frames (e.g.,
<a class="reference internal" href="../api/astropy.coordinates.ICRS.html#astropy.coordinates.ICRS" title="astropy.coordinates.ICRS"><code class="xref py py-class docutils literal"><span class="pre">ICRS</span></code></a>, <a class="reference internal" href="../api/astropy.coordinates.Galactic.html#astropy.coordinates.Galactic" title="astropy.coordinates.Galactic"><code class="xref py py-class docutils literal"><span class="pre">Galactic</span></code></a>)
are all Heliocentric (or barycentric). The center of this new coordinate frame
is at the center of the Galaxy, with customizable parameters allowing the user
to specify the distance to the Galactic center (<code class="docutils literal"><span class="pre">galcen_distance</span></code>), the
ICRS position of the Galactic center (<code class="docutils literal"><span class="pre">galcen_ra</span></code>, <code class="docutils literal"><span class="pre">galcen_dec</span></code>), the
height of the Sun above the Galactic midplane (<code class="docutils literal"><span class="pre">z_sun</span></code>), and a final roll
angle that allows for specifying the orientation of the z axis (<code class="docutils literal"><span class="pre">roll</span></code>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span><span class="p">,</span> <span class="n">Galactocentric</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="n">ra</span><span class="o">=</span><span class="mf">152.718</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">degree</span><span class="p">,</span>
<span class="gp">... </span>             <span class="n">dec</span><span class="o">=-</span><span class="mf">11.214</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">degree</span><span class="p">,</span>
<span class="gp">... </span>             <span class="n">distance</span><span class="o">=</span><span class="mf">21.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">kpc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">Galactocentric</span><span class="p">)</span>
<span class="go">&lt;SkyCoord (Galactocentric: galcen_distance=8.3 kpc, galcen_ra=266d24m18.36s, galcen_dec=-28d56m10.23s, z_sun=27.0 pc, roll=0.0 deg): (x, y, z) in kpc</span>
<span class="go">    (-13.6512648452, -16.6847348677, 12.4862582821)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">Galactocentric</span><span class="p">(</span><span class="n">galcen_distance</span><span class="o">=</span><span class="mi">8</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">kpc</span><span class="p">,</span> <span class="n">z_sun</span><span class="o">=</span><span class="mi">15</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">pc</span><span class="p">))</span>
<span class="go">&lt;SkyCoord (Galactocentric: galcen_distance=8.0 kpc, galcen_ra=266d24m18.36s, galcen_dec=-28d56m10.23s, z_sun=15.0 pc, roll=0.0 deg): (x, y, z) in kpc</span>
<span class="go">    (-13.368458678, -16.6847348677, 12.466872262)&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="new-data-visualization-subpackage">
<span id="whatsnew-viz"></span><h2>New data visualization subpackage<a class="headerlink" href="#new-data-visualization-subpackage" title="Permalink to this headline">¶</a></h2>
<p>The new <a class="reference internal" href="../visualization/index.html#astropy-visualization"><span>Data Visualization</span></a> package is intended
to collect functionality that can be helpful when visualizing data. At the
moment, the main functionality is image normalizing (including both scaling and
stretching) but this will be expanded in future. Included in the image
normalization functionality is the ability to compute interval limits on data,
(such as percentile limits), stretching with non-linear functions (such as
square root or arcsinh functions), and the ability to use custom stretches in
<a class="reference external" href="http://www.matplotlib.org">Matplotlib</a> that are correctly reflected in the
colorbar:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="kn">from</span> <span class="nn">astropy.visualization</span> <span class="kn">import</span> <span class="n">SqrtStretch</span>
<span class="kn">from</span> <span class="nn">astropy.visualization.mpl_normalize</span> <span class="kn">import</span> <span class="n">ImageNormalize</span>

<span class="c"># Generate test image</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">65536</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">))</span>

<span class="c"># Create normalizer object</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">ImageNormalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">65536</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="n">SqrtStretch</span><span class="p">())</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s">&#39;lower&#39;</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s">&#39;auto&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../whatsnew/1-0-1.py">Source code</a>, <a class="reference external" href="../whatsnew/1-0-1.png">png</a>, <a class="reference external" href="../whatsnew/1-0-1.hires.png">hires.png</a>, <a class="reference external" href="../whatsnew/1-0-1.pdf">pdf</a>)</p>
<div class="figure align-center">
<img alt="../_images/1-0-1.png" src="../_images/1-0-1.png" />
</div>
</div>
<div class="section" id="new-analytic-functions-subpackage">
<span id="whatsnew-analytical-functions"></span><h2>New analytic functions subpackage<a class="headerlink" href="#new-analytic-functions-subpackage" title="Permalink to this headline">¶</a></h2>
<p>This subpackage provides analytic functions that are commonly used in
astronomy. These already understand <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-obj docutils literal"><span class="pre">Quantity</span></code></a>, i.e., they can
handle units of input and output parameters. For instance, to calculate the
blackbody flux for 10000K at 6000 Angstrom:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.analytic_functions</span> <span class="kn">import</span> <span class="n">blackbody_lambda</span><span class="p">,</span> <span class="n">blackbody_nu</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blackbody_lambda</span><span class="p">(</span><span class="mi">6000</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">AA</span><span class="p">,</span> <span class="mi">10000</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">K</span><span class="p">)</span>
<span class="go">&lt;Quantity 15315791.836941158 erg / (Angstrom cm2 s sr)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blackbody_nu</span><span class="p">(</span><span class="mi">6000</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">AA</span><span class="p">,</span> <span class="mi">10000</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">K</span><span class="p">)</span>
<span class="go">&lt;Quantity 0.00018391673686797075 erg / (cm2 Hz s sr)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../analytic_functions/index.html#astropy-analytic-functions"><span>Analytic Functions (astropy.analytic_functions)</span></a> for more details.</p>
<p>In future versions of Astropy, the functions in this module might also be
accessible as <a class="reference internal" href="../api/astropy.modeling.Model.html#astropy.modeling.Model" title="astropy.modeling.Model"><code class="xref py py-obj docutils literal"><span class="pre">Model</span></code></a> classes.</p>
</div>
<div class="section" id="new-ascii-features">
<span id="whatsnew-io-ascii"></span><h2>New ASCII features<a class="headerlink" href="#new-ascii-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fast-readers-writers-for-ascii-files">
<h3>Fast readers/writers for ASCII files<a class="headerlink" href="#fast-readers-writers-for-ascii-files" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../io/ascii/index.html#module-astropy.io.ascii" title="astropy.io.ascii"><code class="xref py py-mod docutils literal"><span class="pre">astropy.io.ascii</span></code></a> module now includes a significantly faster Cython/C engine
for reading and writing ASCII files.  This is available for the following
formats: <code class="docutils literal"><span class="pre">basic</span></code>, <code class="docutils literal"><span class="pre">commented_header</span></code>, <code class="docutils literal"><span class="pre">csv</span></code>, <code class="docutils literal"><span class="pre">no_header</span></code>, <code class="docutils literal"><span class="pre">rdb</span></code>, and
<code class="docutils literal"><span class="pre">tab</span></code>.  On average the new engine is about 4 to 5 times faster than the
corresponding pure-Python implementation, and is often comparable to the speed
of the <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/">pandas</a> ASCII file
interface (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/io.html#io-read-csv-table">read_csv</a> and
<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/io.html#io-store-in-csv">to_csv</a>).  The
fast reader has parallel processing option that allows harnessing multiple
cores for input parsing to achieve even greater speed gains.</p>
<p>By default, <a class="reference internal" href="../api/astropy.io.ascii.read.html#astropy.io.ascii.read" title="astropy.io.ascii.read"><code class="xref py py-func docutils literal"><span class="pre">read()</span></code></a> and <a class="reference internal" href="../api/astropy.io.ascii.write.html#astropy.io.ascii.write" title="astropy.io.ascii.write"><code class="xref py py-func docutils literal"><span class="pre">write()</span></code></a>
will attempt to use the fast C engine when dealing with compatible formats.
Certain features of the full read / write interface are not available in the
fast version, in which case the pure-Python version will automatically be used.</p>
<p>For full details including extensive performance testing, see <a class="reference internal" href="../io/ascii/fast_ascii_io.html#fast-ascii-io"><span>Fast ASCII I/O</span></a>.</p>
</div>
<div class="section" id="enhanced-csv-format">
<h3>Enhanced CSV format<a class="headerlink" href="#enhanced-csv-format" title="Permalink to this headline">¶</a></h3>
<p>One of the problems when storing a table in an ASCII format is preserving table
meta-data such as comments, keywords and column data types, units, and
descriptions.  Using the newly defined <a class="reference external" href="https://github.com/astropy/astropy-APEs/blob/master/APE6.rst">Enhanced Character Separated Values
format</a> it is
now possible to write a table to an ASCII-format file and read it back with no
loss of information.  The ECSV format has been designed to be both
human-readable and compatible with most simple CSV readers.</p>
<p>In the example below we show writing a table that has <code class="docutils literal"><span class="pre">float32</span></code> and <code class="docutils literal"><span class="pre">bool</span></code>
types.  This illustrates the simple look of the format which has a few header
lines (starting with <code class="docutils literal"><span class="pre">#</span></code>) in <a class="reference external" href="http://www.yaml.org/">YAML</a> format and then
the data values in CSV format.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Column</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;float32&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Column</span><span class="p">([</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;bool&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.extern.six.moves</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fh</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">fh</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;ascii.ecsv&#39;</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">table_string</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>      
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">table_string</span><span class="p">)</span>               
<span class="go"># %ECSV 0.9</span>
<span class="go"># ---</span>
<span class="go"># columns:</span>
<span class="go"># - {name: x, unit: m, type: float32}</span>
<span class="go"># - {name: y, type: bool}</span>
<span class="go">x y</span>
<span class="go">1.0 False</span>
<span class="go">2.0 True</span>
</pre></div>
</div>
<p>Without the header this table would get read back with different types
(<code class="docutils literal"><span class="pre">float64</span></code> and <code class="docutils literal"><span class="pre">string</span></code> respectively) and no unit values.  Instead with
the automatically-detected ECSV we get:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Table</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">table_string</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span>  
<span class="go">&lt;Table masked=False length=2&gt;</span>
<span class="go">   x      y</span>
<span class="go">   m</span>
<span class="go">float32  bool</span>
<span class="go">------- -----</span>
<span class="go">    1.0 False</span>
<span class="go">    2.0  True</span>
</pre></div>
</div>
<p>Note that using the ECSV reader requires the <a class="reference external" href="http://pyyaml.org">PyYAML</a>
package to be installed.</p>
</div>
</div>
<div class="section" id="new-modeling-features">
<span id="whatsnew-modeling"></span><h2>New modeling features<a class="headerlink" href="#new-modeling-features" title="Permalink to this headline">¶</a></h2>
<p>New subclasses of <a class="reference internal" href="../api/astropy.modeling.Model.html#astropy.modeling.Model" title="astropy.modeling.Model"><code class="xref py py-obj docutils literal"><span class="pre">Model</span></code></a> are now a bit easier to define,
requiring less boilerplate code in general.  Now all that is necessary to
define a new model class is an <a class="reference internal" href="../api/astropy.modeling.Model.html#astropy.modeling.Model.evaluate" title="astropy.modeling.Model.evaluate"><code class="xref py py-obj docutils literal"><span class="pre">evaluate</span></code></a> method that
computes the model.  Optionally one can define <a class="reference internal" href="../modeling/parameters.html#modeling-parameters"><span>fittable parameters</span></a>, a <a class="reference internal" href="../api/astropy.modeling.FittableModel.html#astropy.modeling.FittableModel.fit_deriv" title="astropy.modeling.FittableModel.fit_deriv"><code class="xref py py-obj docutils literal"><span class="pre">fit_deriv</span></code></a>, and/or
an <a class="reference internal" href="../api/astropy.modeling.Model.html#astropy.modeling.Model.inverse" title="astropy.modeling.Model.inverse"><code class="xref py py-obj docutils literal"><span class="pre">inverse</span></code></a>.  The new, improved
<a class="reference internal" href="../api/astropy.modeling.custom_model.html#astropy.modeling.custom_model" title="astropy.modeling.custom_model"><code class="xref py py-obj docutils literal"><span class="pre">custom_model</span></code></a> decorator reduces the boilerplate needed for
many models even more.  See <a class="reference internal" href="../modeling/new.html#modeling-new-classes"><span>Defining New Model Classes</span></a> for more details.</p>
<p>Array broadcasting has also been improved, enabling a broader range of
possibilities for the values of model parameters and inputs.  Support has also
been improved for <a class="reference internal" href="../modeling/models.html#modeling-model-sets"><span>Model Sets</span></a> (previously referred to as
parameter sets) which can be thought of like an array of models of the same
class, each with different sets of parameters, which can be fitted
simultaneously either to the same data, or to different data sets per model.
See <a class="reference internal" href="../modeling/models.html#modeling-instantiating"><span>Instantiating and Evaluating Models</span></a> for more details.</p>
<p>It is now possible to create <em>compound</em> models by combining existing models
using the standard arithmetic operators such as <code class="docutils literal"><span class="pre">+</span></code> and <code class="docutils literal"><span class="pre">*</span></code>, as well as
functional composition using the <code class="docutils literal"><span class="pre">|</span></code> operator.  This provides a powerful
and flexible new way to create more complex models without having to define
any special classes or functions.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.modeling.models</span> <span class="kn">import</span> <span class="n">Gaussian1D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gaussian1</span> <span class="o">=</span> <span class="n">Gaussian1D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gaussian2</span> <span class="o">=</span> <span class="n">Gaussian1D</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sum_of_gaussians</span> <span class="o">=</span> <span class="n">gaussian1</span> <span class="o">+</span> <span class="n">gaussian2</span>
</pre></div>
</div>
<p>The resulting model works like any other model, and also works with the
fitting framework.  See the
<a class="reference internal" href="../modeling/index.html#compound-models-intro"><span>introduction to compound models</span></a> and full
<a class="reference internal" href="../modeling/compound-models.html#compound-models"><span>compound models documentation</span></a> for more examples.</p>
</div>
<div class="section" id="new-table-features">
<span id="whatsnew-table"></span><h2>New Table features<a class="headerlink" href="#new-table-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="refactor-of-table-infrastructure">
<h3>Refactor of table infrastructure<a class="headerlink" href="#refactor-of-table-infrastructure" title="Permalink to this headline">¶</a></h3>
<p>The underlying data container for the Astropy <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> object has been changed
in Astropy v1.0.  Previously, tables were stored internally as a Numpy structured
array object, with column access being a memory view of the corresponding Numpy
array field.  Starting with this release the fundamental data container is an
ordered dictionary of individual column objects and each <a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> object is the
sole owner of its data.</p>
<p>The biggest impact to users is that operations such as adding or removing
table columns is now significantly faster because there is no structured array
to rebuild each time.</p>
<p>For details please see <a class="reference internal" href="../table/implementation_change_1.0.html#table-implementation-change"><span>Table implementation change in 1.0</span></a>.</p>
</div>
<div class="section" id="support-for-mixin-columns">
<h3>Support for &#8216;mixin&#8217; columns<a class="headerlink" href="#support-for-mixin-columns" title="Permalink to this headline">¶</a></h3>
<p>Version v1.0 of Astropy introduces a new concept of the &#8220;Mixin
Column&#8221; in tables which allows integration of appropriate non-<a class="reference internal" href="../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> based
class objects within a <a class="reference internal" href="../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> object.  These mixin column objects are not
converted in any way but are used natively.</p>
<p>The available built-in mixin column classes are <a class="reference internal" href="../api/astropy.units.Quantity.html#astropy.units.Quantity" title="astropy.units.Quantity"><code class="xref py py-class docutils literal"><span class="pre">Quantity</span></code></a>, <a class="reference internal" href="../api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="astropy.coordinates.SkyCoord"><code class="xref py py-class docutils literal"><span class="pre">SkyCoord</span></code></a>, and
<a class="reference internal" href="../api/astropy.time.Time.html#astropy.time.Time" title="astropy.time.Time"><code class="xref py py-class docutils literal"><span class="pre">Time</span></code></a>.  User classes for array-like objects that support the
<a class="reference internal" href="../table/mixin_columns.html#mixin-protocol"><span>Mixin protocol</span></a> can also be used in tables as mixin columns.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">While the Astropy developers are excited about this new capability and
intend to improve it, the interface for using mixin columns is not stable at
this point and it is not recommended for use in production code.</p>
</div>
<p>As an example we can create a table and add a time column:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;index&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Time</span><span class="p">([</span><span class="s">&#39;2001-01-02T12:34:56&#39;</span><span class="p">,</span> <span class="s">&#39;2001-02-03T00:01:02&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">index           time</span>
<span class="go">----- -----------------------</span>
<span class="go">    1 2001-01-02T12:34:56.000</span>
<span class="go">    2 2001-02-03T00:01:02.000</span>
</pre></div>
</div>
<p>The important point here is that the <code class="docutils literal"><span class="pre">time</span></code> column is a bona fide <a class="reference internal" href="../api/astropy.time.Time.html#astropy.time.Time" title="astropy.time.Time"><code class="xref py py-class docutils literal"><span class="pre">Time</span></code></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;time&#39;</span><span class="p">]</span>
<span class="go">&lt;Time object: scale=&#39;utc&#39; format=&#39;isot&#39; value=[&#39;2001-01-02T12:34:56.000&#39; &#39;2001-02-03T00:01:02.000&#39;]&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mjd</span>
<span class="go">array([ 51911.52425926,  51943.00071759])</span>
</pre></div>
</div>
<p>For all the details, including a new <a class="reference internal" href="../api/astropy.table.QTable.html#astropy.table.QTable" title="astropy.table.QTable"><code class="xref py py-class docutils literal"><span class="pre">QTable</span></code></a> class, please see <a class="reference internal" href="../table/mixin_columns.html#mixin-columns"><span>Mixin columns</span></a>.</p>
</div>
</div>
<div class="section" id="integration-with-wcsaxes">
<h2>Integration with WCSAxes<a class="headerlink" href="#integration-with-wcsaxes" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../api/astropy.wcs.WCS.html#astropy.wcs.WCS" title="astropy.wcs.WCS"><code class="xref py py-class docutils literal"><span class="pre">WCS</span></code></a> class can now be used as a <a class="reference external" href="http://www.matplotlib.org">Matplotlib</a> projection to make plots of images with WCS
coordinates overlaid, making use of the <a class="reference external" href="http://wcsaxes.readthedocs.org">WCSAxes</a> affiliated package behind the scenes. More
information on using this functionality can be found in the <a class="reference external" href="http://wcsaxes.readthedocs.org">WCSAxes</a> documentation.</p>
</div>
<div class="section" id="deprecation-and-backward-incompatible-changes">
<h2>Deprecation and backward-incompatible changes<a class="headerlink" href="#deprecation-and-backward-incompatible-changes" title="Permalink to this headline">¶</a></h2>
<p>Astropy is now no longer supported on Python 3.1 and 3.2. Python 3.x users
should use Python 3.3 or 3.4. In addition, support for Numpy 1.5 has been
dropped, and users should make sure they are using Numpy 1.6 or later.</p>
</div>
<div class="section" id="full-change-log">
<h2>Full change log<a class="headerlink" href="#full-change-log" title="Permalink to this headline">¶</a></h2>
<p>To see a detailed list of all changes in version v1.0, including changes in API,
please see the <a class="reference internal" href="../changelog.html#changelog"><span>Full Changelog</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">What&#8217;s New in Astropy 1.0?</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#about-long-term-support">About Long-term support</a></li>
<li><a class="reference internal" href="#support-for-alt-az-coordinates">Support for Alt/Az coordinates</a></li>
<li><a class="reference internal" href="#new-galactocentric-coordinate-frame">New Galactocentric coordinate frame</a></li>
<li><a class="reference internal" href="#new-data-visualization-subpackage">New data visualization subpackage</a></li>
<li><a class="reference internal" href="#new-analytic-functions-subpackage">New analytic functions subpackage</a></li>
<li><a class="reference internal" href="#new-ascii-features">New ASCII features</a><ul>
<li><a class="reference internal" href="#fast-readers-writers-for-ascii-files">Fast readers/writers for ASCII files</a></li>
<li><a class="reference internal" href="#enhanced-csv-format">Enhanced CSV format</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-modeling-features">New modeling features</a></li>
<li><a class="reference internal" href="#new-table-features">New Table features</a><ul>
<li><a class="reference internal" href="#refactor-of-table-infrastructure">Refactor of table infrastructure</a></li>
<li><a class="reference internal" href="#support-for-mixin-columns">Support for &#8216;mixin&#8217; columns</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration-with-wcsaxes">Integration with WCSAxes</a></li>
<li><a class="reference internal" href="#deprecation-and-backward-incompatible-changes">Deprecation and backward-incompatible changes</a></li>
<li><a class="reference internal" href="#full-change-log">Full change log</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="http://github.com/astropy/astropy/tree/master/docs/whatsnew/1.0.rst">Edit This Page on Github</a> &nbsp;
    <a href="../_sources/whatsnew/1.0.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1. &nbsp;
    Last built 12 May 2016. <br/>
  </p>
</footer>
  </body>
</html>