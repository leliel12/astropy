<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>VOTable XML handling (astropy.io.votable) &mdash; Astropy v1.2.dev14979</title>
    
    <link rel="stylesheet" href="../../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.2.dev14979',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../../_static/astropy_logo.ico"/>
    <link rel="top" title="Astropy v1.2.dev14979" href="../../index.html" />
    <link rel="next" title="parse" href="../../api/astropy.io.votable.parse.html" />
    <link rel="prev" title="WhitespaceSplitter" href="../../api/astropy.io.ascii.WhitespaceSplitter.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../../_static/copybutton.js"></script>


  </head>
  <body role="document">
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="../../api/astropy.io.votable.parse.html" title="parse">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="../../api/astropy.io.ascii.WhitespaceSplitter.html" title="WhitespaceSplitter">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../../index.html">Astropy v1.2.dev14979</a>
	 &raquo;
      </li>
      
      <li>VOTable XML handling (<code class="docutils literal"><span class="pre">astropy.io.votable</span></code>)</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="votable-xml-handling-astropy-io-votable">
<span id="astropy-io-votable"></span><h1>VOTable XML handling (<a class="reference internal" href="#module-astropy.io.votable" title="astropy.io.votable"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable</span></code></a>)<a class="headerlink" href="#votable-xml-handling-astropy-io-votable" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#module-astropy.io.votable" title="astropy.io.votable"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable</span></code></a> subpackage converts VOTable XML files to and
from Numpy record arrays.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="reading-a-votable-file">
<h3>Reading a VOTable file<a class="headerlink" href="#reading-a-votable-file" title="Permalink to this headline">¶</a></h3>
<p>To read in a VOTable file, pass a file path to
<a class="reference internal" href="../../api/astropy.io.votable.parse.html#astropy.io.votable.parse" title="astropy.io.votable.parse"><code class="xref py py-obj docutils literal"><span class="pre">parse</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.votable</span> <span class="k">import</span> <span class="n">parse</span>
<span class="n">votable</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="s">&quot;votable.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">votable</span></code> is a <a class="reference internal" href="../../api/astropy.io.votable.tree.VOTableFile.html#astropy.io.votable.tree.VOTableFile" title="astropy.io.votable.tree.VOTableFile"><code class="xref py py-obj docutils literal"><span class="pre">VOTableFile</span></code></a> object, which
can be used to retrieve and manipulate the data and save it back out
to disk.</p>
<p>VOTable files are made up of nested <code class="docutils literal"><span class="pre">RESOURCE</span></code> elements, each of
which may contain one or more <code class="docutils literal"><span class="pre">TABLE</span></code> elements.  The <code class="docutils literal"><span class="pre">TABLE</span></code>
elements contain the arrays of data.</p>
<p>To get at the <code class="docutils literal"><span class="pre">TABLE</span></code> elements, one can write a loop over the
resources in the <code class="docutils literal"><span class="pre">VOTABLE</span></code> file:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="n">votable</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">resource</span><span class="o">.</span><span class="n">tables</span><span class="p">:</span>
    <span class="c"># ... do something with the table ...</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>However, if the nested structure of the resources is not important,
one can use <a class="reference internal" href="../../api/astropy.io.votable.tree.VOTableFile.html#astropy.io.votable.tree.VOTableFile.iter_tables" title="astropy.io.votable.tree.VOTableFile.iter_tables"><code class="xref py py-obj docutils literal"><span class="pre">iter_tables</span></code></a> to
return a flat list of all tables:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="k">for</span> <span class="n">table</span> <span class="ow">in</span> <span class="n">votable</span><span class="o">.</span><span class="n">iter_tables</span><span class="p">():</span>
  <span class="c"># ... do something with the table ...</span>
  <span class="k">pass</span>
</pre></div>
</div>
<p>Finally, if there is expected to be only one table in the file, it
might be simplest to just use
<a class="reference internal" href="../../api/astropy.io.votable.tree.VOTableFile.html#astropy.io.votable.tree.VOTableFile.get_first_table" title="astropy.io.votable.tree.VOTableFile.get_first_table"><code class="xref py py-obj docutils literal"><span class="pre">get_first_table</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">table</span> <span class="o">=</span> <span class="n">votable</span><span class="o">.</span><span class="n">get_first_table</span><span class="p">()</span>
</pre></div>
</div>
<p>Even easier, there is a convenience method to parse a VOTable file and
return the first table all in one step:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.votable</span> <span class="k">import</span> <span class="n">parse_single_table</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">parse_single_table</span><span class="p">(</span><span class="s">&quot;votable.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>From a <a class="reference internal" href="../../api/astropy.io.votable.tree.Table.html#astropy.io.votable.tree.Table" title="astropy.io.votable.tree.Table"><code class="xref py py-obj docutils literal"><span class="pre">Table</span></code></a> object, one can get the data itself
in the <code class="docutils literal"><span class="pre">array</span></code> member variable:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">array</span>
</pre></div>
</div>
<p>This data is a Numpy record array.</p>
<p>The columns get their names from both the <code class="docutils literal"><span class="pre">ID</span></code> and <code class="docutils literal"><span class="pre">name</span></code>
attributes of the <code class="docutils literal"><span class="pre">FIELD</span></code> elements in the <code class="docutils literal"><span class="pre">VOTABLE</span></code> file.  For
example, suppose we had a <code class="docutils literal"><span class="pre">FIELD</span></code> specified as follows:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FIELD</span> <span class="na">ID=</span><span class="s">&quot;Dec&quot;</span> <span class="na">name=</span><span class="s">&quot;dec_targ&quot;</span> <span class="na">datatype=</span><span class="s">&quot;char&quot;</span> <span class="na">ucd=</span><span class="s">&quot;POS_EQ_DEC_MAIN&quot;</span>
       <span class="na">unit=</span><span class="s">&quot;deg&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;DESCRIPTION&gt;</span>
  representing the ICRS declination of the center of the image.
 <span class="nt">&lt;/DESCRIPTION&gt;</span>
<span class="nt">&lt;/FIELD&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The mapping from VOTable <code class="docutils literal"><span class="pre">name</span></code> and <code class="docutils literal"><span class="pre">ID</span></code> attributes to Numpy
dtype <code class="docutils literal"><span class="pre">names</span></code> and <code class="docutils literal"><span class="pre">titles</span></code> is highly confusing.</p>
<p>In VOTable, <code class="docutils literal"><span class="pre">ID</span></code> is guaranteed to be unique, but is not
required. <code class="docutils literal"><span class="pre">name</span></code> is not guaranteed to be unique, but is
required.</p>
<p>In Numpy record dtypes, <code class="docutils literal"><span class="pre">names</span></code> are required to be unique and
are required.  <code class="docutils literal"><span class="pre">titles</span></code> are not required, and are not required
to be unique.</p>
<p>Therefore, VOTable&#8217;s <code class="docutils literal"><span class="pre">ID</span></code> most closely maps to Numpy&#8217;s
<code class="docutils literal"><span class="pre">names</span></code>, and VOTable&#8217;s <code class="docutils literal"><span class="pre">name</span></code> most closely maps to Numpy&#8217;s
<code class="docutils literal"><span class="pre">titles</span></code>.  However, in some cases where a VOTable <code class="docutils literal"><span class="pre">ID</span></code> is not
provided, a Numpy <code class="docutils literal"><span class="pre">name</span></code> will be generated based on the VOTable
<code class="docutils literal"><span class="pre">name</span></code>.  Unfortunately, VOTable fields do not have an attribute
that is both unique and required, which would be the most
convenient mechanism to uniquely identify a column.</p>
<p>When converting from a <a class="reference internal" href="../../api/astropy.io.votable.tree.Table.html#astropy.io.votable.tree.Table" title="astropy.io.votable.tree.Table"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable.tree.Table</span></code></a> object to
an <a class="reference internal" href="../../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal"><span class="pre">astropy.table.Table</span></code></a> object, one can specify whether to give
preference to <code class="docutils literal"><span class="pre">name</span></code> or <code class="docutils literal"><span class="pre">ID</span></code> attributes when naming the
columns.  By default, <code class="docutils literal"><span class="pre">ID</span></code> is given preference.  To give
<code class="docutils literal"><span class="pre">name</span></code> preference, pass the keyword argument
<code class="docutils literal"><span class="pre">use_names_over_ids=True</span></code>:</p>
<div class="last highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">votable</span><span class="o">.</span><span class="n">get_first_table</span><span class="p">()</span><span class="o">.</span><span class="n">to_table</span><span class="p">(</span><span class="n">use_names_over_ids</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>This column of data can be extracted from the record array using:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="s">&#39;dec_targ&#39;</span><span class="p">]</span>
<span class="go">array([17.15153360566, 17.15153360566, 17.15153360566, 17.1516686826,</span>
<span class="go">       17.1516686826, 17.1516686826, 17.1536197136, 17.1536197136,</span>
<span class="go">       17.1536197136, 17.15375479055, 17.15375479055, 17.15375479055,</span>
<span class="go">       17.1553884541, 17.15539736932, 17.15539752176,</span>
<span class="go">       17.25736014763,</span>
<span class="go">       # ...</span>
<span class="go">       17.2765703], dtype=object)</span>
</pre></div>
</div>
<p>or equivalently:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="s">&#39;Dec&#39;</span><span class="p">]</span>
<span class="go">array([17.15153360566, 17.15153360566, 17.15153360566, 17.1516686826,</span>
<span class="go">       17.1516686826, 17.1516686826, 17.1536197136, 17.1536197136,</span>
<span class="go">       17.1536197136, 17.15375479055, 17.15375479055, 17.15375479055,</span>
<span class="go">       17.1553884541, 17.15539736932, 17.15539752176,</span>
<span class="go">       17.25736014763,</span>
<span class="go">       # ...</span>
<span class="go">       17.2765703], dtype=object)</span>
</pre></div>
</div>
</div>
<div class="section" id="building-a-new-table-from-scratch">
<h3>Building a new table from scratch<a class="headerlink" href="#building-a-new-table-from-scratch" title="Permalink to this headline">¶</a></h3>
<p>It is also possible to build a new table, define some field datatypes
and populate it with data:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.votable.tree</span> <span class="k">import</span> <span class="n">VOTableFile</span><span class="p">,</span> <span class="n">Resource</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Field</span>

<span class="c"># Create a new VOTable file...</span>
<span class="n">votable</span> <span class="o">=</span> <span class="n">VOTableFile</span><span class="p">()</span>

<span class="c"># ...with one resource...</span>
<span class="n">resource</span> <span class="o">=</span> <span class="n">Resource</span><span class="p">()</span>
<span class="n">votable</span><span class="o">.</span><span class="n">resources</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>

<span class="c"># ... with one table</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">votable</span><span class="p">)</span>
<span class="n">resource</span><span class="o">.</span><span class="n">tables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>

<span class="c"># Define some fields</span>
<span class="n">table</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
        <span class="n">Field</span><span class="p">(</span><span class="n">votable</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;filename&quot;</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="s">&quot;char&quot;</span><span class="p">,</span> <span class="n">arraysize</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">),</span>
        <span class="n">Field</span><span class="p">(</span><span class="n">votable</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;matrix&quot;</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="s">&quot;double&quot;</span><span class="p">,</span> <span class="n">arraysize</span><span class="o">=</span><span class="s">&quot;2x2&quot;</span><span class="p">)])</span>

<span class="c"># Now, use those field definitions to create the numpy record arrays, with</span>
<span class="c"># the given number of rows</span>
<span class="n">table</span><span class="o">.</span><span class="n">create_arrays</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c"># Now table.array can be filled with data</span>
<span class="n">table</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;test1.xml&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="n">table</span><span class="o">.</span><span class="n">array</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;test2.xml&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]])</span>

<span class="c"># Now write the whole thing to a file.</span>
<span class="c"># Note, we have to use the top-level votable file object</span>
<span class="n">votable</span><span class="o">.</span><span class="n">to_xml</span><span class="p">(</span><span class="s">&quot;new_votable.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="outputting-a-votable-file">
<h3>Outputting a VOTable file<a class="headerlink" href="#outputting-a-votable-file" title="Permalink to this headline">¶</a></h3>
<p>To save a VOTable file, simply call the
<a class="reference internal" href="../../api/astropy.io.votable.tree.VOTableFile.html#astropy.io.votable.tree.VOTableFile.to_xml" title="astropy.io.votable.tree.VOTableFile.to_xml"><code class="xref py py-obj docutils literal"><span class="pre">to_xml</span></code></a> method.  It accepts
either a string or Unicode path, or a Python file-like object:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">votable</span><span class="o">.</span><span class="n">to_xml</span><span class="p">(</span><span class="s">&#39;output.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>There are a number of data storage formats supported by
<a class="reference internal" href="#module-astropy.io.votable" title="astropy.io.votable"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable</span></code></a>.  The <code class="docutils literal"><span class="pre">TABLEDATA</span></code> format is XML-based and
stores values as strings representing numbers.  The <code class="docutils literal"><span class="pre">BINARY</span></code> format
is more compact, and stores numbers in base64-encoded binary.  VOTable
version 1.3 adds the <code class="docutils literal"><span class="pre">BINARY2</span></code> format, which allows for masking of
any data type, including integers and bit fields which can not be
masked in the older <code class="docutils literal"><span class="pre">BINARY</span></code> format.  The storage format can be set
on a per-table basis using the <a class="reference internal" href="../../api/astropy.io.votable.tree.Table.html#astropy.io.votable.tree.Table.format" title="astropy.io.votable.tree.Table.format"><code class="xref py py-obj docutils literal"><span class="pre">format</span></code></a>
attribute, or globally using the
<a class="reference internal" href="../../api/astropy.io.votable.tree.VOTableFile.html#astropy.io.votable.tree.VOTableFile.set_all_tables_format" title="astropy.io.votable.tree.VOTableFile.set_all_tables_format"><code class="xref py py-obj docutils literal"><span class="pre">set_all_tables_format</span></code></a> method:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">votable</span><span class="o">.</span><span class="n">get_first_table</span><span class="p">()</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="s">&#39;binary&#39;</span>
<span class="n">votable</span><span class="o">.</span><span class="n">set_all_tables_format</span><span class="p">(</span><span class="s">&#39;binary&#39;</span><span class="p">)</span>
<span class="n">votable</span><span class="o">.</span><span class="n">to_xml</span><span class="p">(</span><span class="s">&#39;binary.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-astropy-io-votable">
<h2>Using <a class="reference internal" href="#module-astropy.io.votable" title="astropy.io.votable"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable</span></code></a><a class="headerlink" href="#using-astropy-io-votable" title="Permalink to this headline">¶</a></h2>
<div class="section" id="standard-compliance">
<h3>Standard compliance<a class="headerlink" href="#standard-compliance" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../../api/astropy.io.votable.tree.Table.html#astropy.io.votable.tree.Table" title="astropy.io.votable.tree.Table"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable.tree.Table</span></code></a> supports the <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html">VOTable Format Definition
Version 1.1</a>,
<a class="reference external" href="http://www.ivoa.net/Documents/VOTable/20091130/REC-VOTable-1.2.html">Version 1.2</a>,
and the <a class="reference external" href="http://www.ivoa.net/documents/VOTable/20130315/PR-VOTable-1.3-20130315.html">Version 1.3 proposed recommendation</a>.
Some flexibility is provided to support the 1.0 draft version and
other non-standard usage in the wild.  To support these cases, set the
keyword argument <code class="docutils literal"><span class="pre">pedantic</span></code> to <code class="docutils literal"><span class="pre">False</span></code> when parsing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Each warning and VOTABLE-specific exception emitted has a number and
is documented in more detail in <a class="reference internal" href="api_exceptions.html#warnings"><span class="std std-ref">Warnings</span></a> and
<a class="reference internal" href="api_exceptions.html#exceptions"><span class="std std-ref">Exceptions</span></a>.</p>
</div>
<p>Output always conforms to the 1.1, 1.2 or 1.3 spec, depending on the
input.</p>
<div class="section" id="pedantic-mode">
<span id="id1"></span><h4>Pedantic mode<a class="headerlink" href="#pedantic-mode" title="Permalink to this headline">¶</a></h4>
<p>Many VOTABLE files in the wild do not conform to the VOTABLE
specification.  If reading one of these files causes exceptions, you
may turn off pedantic mode in <a class="reference internal" href="#module-astropy.io.votable" title="astropy.io.votable"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable</span></code></a> by passing
<code class="docutils literal"><span class="pre">pedantic=False</span></code> to the <a class="reference internal" href="../../api/astropy.io.votable.parse.html#astropy.io.votable.parse" title="astropy.io.votable.parse"><code class="xref py py-obj docutils literal"><span class="pre">parse</span></code></a> or
<a class="reference internal" href="../../api/astropy.io.votable.parse_single_table.html#astropy.io.votable.parse_single_table" title="astropy.io.votable.parse_single_table"><code class="xref py py-obj docutils literal"><span class="pre">parse_single_table</span></code></a> functions:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.votable</span> <span class="k">import</span> <span class="n">parse</span>
<span class="n">votable</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="s">&quot;votable.xml&quot;</span><span class="p">,</span> <span class="n">pedantic</span><span class="o">=</span><span class="k">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Note, however, that it is good practice to report these errors to the
author of the application that generated the VOTABLE file to bring the
file into compliance with the specification.</p>
<p>Even with <code class="docutils literal"><span class="pre">pedantic</span></code> turned off, many warnings may still be omitted.
These warnings are all of the type
<a class="reference internal" href="api_exceptions.html#astropy.io.votable.exceptions.VOTableSpecWarning" title="astropy.io.votable.exceptions.VOTableSpecWarning"><code class="xref py py-obj docutils literal"><span class="pre">VOTableSpecWarning</span></code></a> and can be turned
off using the standard Python <a class="reference external" href="http://docs.python.org/library/warnings.html#module-warnings" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">warnings</span></code></a> module.</p>
</div>
</div>
<div class="section" id="missing-values">
<h3>Missing values<a class="headerlink" href="#missing-values" title="Permalink to this headline">¶</a></h3>
<p>Any value in the table may be &#8220;missing&#8221;.  <a class="reference internal" href="#module-astropy.io.votable" title="astropy.io.votable"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable</span></code></a> stores
a Numpy masked array in each <a class="reference internal" href="../../api/astropy.io.votable.tree.Table.html#astropy.io.votable.tree.Table" title="astropy.io.votable.tree.Table"><code class="xref py py-obj docutils literal"><span class="pre">Table</span></code></a>
instance.  This behaves like an ordinary Numpy masked array, except
for variable-length fields.  For those fields, the datatype of the
column is &#8220;object&#8221; and another Numpy masked array is stored there.
Therefore, operations on variable length columns will not work &#8211; this
is simply because variable length columns are not directly supported
by Numpy masked arrays.</p>
</div>
<div class="section" id="datatype-mappings">
<h3>Datatype mappings<a class="headerlink" href="#datatype-mappings" title="Permalink to this headline">¶</a></h3>
<p>The datatype specified by a <code class="docutils literal"><span class="pre">FIELD</span></code> element is mapped to a Numpy
type according to the following table:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">VOTABLE type</th>
<th class="head">Numpy type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>boolean</td>
<td>b1</td>
</tr>
<tr class="row-odd"><td>bit</td>
<td>b1</td>
</tr>
<tr class="row-even"><td>unsignedByte</td>
<td>u1</td>
</tr>
<tr class="row-odd"><td>char (<em>variable length</em>)</td>
<td>O - In Python 2.x, a <a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></a> object; in 3.x, a <code class="docutils literal"><span class="pre">bytes()</span></code> object.</td>
</tr>
<tr class="row-even"><td>char (<em>fixed length</em>)</td>
<td>S</td>
</tr>
<tr class="row-odd"><td>unicodeChar (<em>variable length</em>)</td>
<td>O - In Python 2.x, a <a class="reference external" href="http://docs.python.org/library/functions.html#unicode" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">unicode</span></code></a> object, in utf-16; in 3.x a <a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">str</span></code></a> object</td>
</tr>
<tr class="row-even"><td>unicodeChar (<em>fixed length</em>)</td>
<td>U</td>
</tr>
<tr class="row-odd"><td>short</td>
<td>i2</td>
</tr>
<tr class="row-even"><td>int</td>
<td>i4</td>
</tr>
<tr class="row-odd"><td>long</td>
<td>i8</td>
</tr>
<tr class="row-even"><td>float</td>
<td>f4</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>f8</td>
</tr>
<tr class="row-even"><td>floatComplex</td>
<td>c8</td>
</tr>
<tr class="row-odd"><td>doubleComplex</td>
<td>c16</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>If the field is a fixed size array, the data is stored as a Numpy
fixed-size array.</p>
<p>If the field is a variable size array (that is <code class="docutils literal"><span class="pre">arraysize</span></code> contains
a &#8216;*&#8217;), the cell will contain a Python list of Numpy values.  Each
value may be either an array or scalar depending on the <code class="docutils literal"><span class="pre">arraysize</span></code>
specifier.</p>
</div>
<div class="section" id="examining-field-types">
<h3>Examining field types<a class="headerlink" href="#examining-field-types" title="Permalink to this headline">¶</a></h3>
<p>To look up more information about a field in a table, one can use the
<a class="reference internal" href="../../api/astropy.io.votable.tree.Table.html#astropy.io.votable.tree.Table.get_field_by_id" title="astropy.io.votable.tree.Table.get_field_by_id"><code class="xref py py-obj docutils literal"><span class="pre">get_field_by_id</span></code></a> method, which returns
the <a class="reference internal" href="../../api/astropy.io.votable.tree.Field.html#astropy.io.votable.tree.Field" title="astropy.io.votable.tree.Field"><code class="xref py py-obj docutils literal"><span class="pre">Field</span></code></a> object with the given ID.  For
example:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">field</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">get_field_by_id</span><span class="p">(</span><span class="s">&#39;Dec&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">datatype</span>
<span class="go">&#39;char&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">unit</span>
<span class="go">&#39;deg&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Field descriptors should not be mutated.  To change the set of
columns, convert the Table to an <a class="reference internal" href="../../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal"><span class="pre">astropy.table.Table</span></code></a>, make the
changes, and then convert it back.</p>
</div>
</div>
<div class="section" id="data-serialization-formats">
<span id="votable-serialization"></span><h3>Data serialization formats<a class="headerlink" href="#data-serialization-formats" title="Permalink to this headline">¶</a></h3>
<p>VOTable supports a number of different serialization formats.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.ivoa.net/documents/VOTable/20130920/REC-VOTable-1.3-20130920.html#ToC36">TABLEDATA</a>
stores the data in pure XML, where the numerical values are written
as human-readable strings.</li>
<li><a class="reference external" href="http://www.ivoa.net/documents/VOTable/20130920/REC-VOTable-1.3-20130920.html#ToC38">BINARY</a>
is a binary representation of the data, stored in the XML as an
opaque <code class="docutils literal"><span class="pre">base64</span></code>-encoded blob.</li>
<li><a class="reference external" href="http://www.ivoa.net/documents/VOTable/20130920/REC-VOTable-1.3-20130920.html#ToC39">BINARY2</a>
was added in VOTable 1.3, and is identical to &#8220;BINARY&#8221;, except that
it explicitly records the position of missing values rather than
identifying them by a special value.</li>
<li><a class="reference external" href="http://www.ivoa.net/documents/VOTable/20130920/REC-VOTable-1.3-20130920.html#ToC37">FITS</a>
stores the data in an external FITS file.  This serialization is not
supported by the <a class="reference internal" href="#module-astropy.io.votable" title="astropy.io.votable"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable</span></code></a> writer, since it requires
writing multiple files.</li>
</ul>
<p>The serialization format can be selected in two ways:</p>
<blockquote>
<div><p>1) By setting the <code class="docutils literal"><span class="pre">format</span></code> attribute of a
<a class="reference internal" href="../../api/astropy.io.votable.tree.Table.html#astropy.io.votable.tree.Table" title="astropy.io.votable.tree.Table"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable.tree.Table</span></code></a> object:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">votable</span><span class="o">.</span><span class="n">get_first_table</span><span class="p">()</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="s">&quot;binary&quot;</span>
<span class="n">votable</span><span class="o">.</span><span class="n">to_xml</span><span class="p">(</span><span class="s">&quot;new_votable.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>2) By overriding the format of all tables using the
<code class="docutils literal"><span class="pre">tabledata_format</span></code> keyword argument when writing out a VOTable
file:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">votable</span><span class="o">.</span><span class="n">to_xml</span><span class="p">(</span><span class="s">&quot;new_votable.xml&quot;</span><span class="p">,</span> <span class="n">tabledata_format</span><span class="o">=</span><span class="s">&quot;binary&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="converting-to-from-an-astropy-table-table">
<h3>Converting to/from an <a class="reference internal" href="../../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal"><span class="pre">astropy.table.Table</span></code></a><a class="headerlink" href="#converting-to-from-an-astropy-table-table" title="Permalink to this headline">¶</a></h3>
<p>The VOTable standard does not map conceptually to an
<a class="reference internal" href="../../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal"><span class="pre">astropy.table.Table</span></code></a>.  However, a single table within the <code class="docutils literal"><span class="pre">VOTable</span></code>
file may be converted to and from an <a class="reference internal" href="../../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal"><span class="pre">astropy.table.Table</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.votable</span> <span class="k">import</span> <span class="n">parse_single_table</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">parse_single_table</span><span class="p">(</span><span class="s">&quot;votable.xml&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_table</span><span class="p">()</span>
</pre></div>
</div>
<p>As a convenience, there is also a function to create an entire VOTable
file with just a single table:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io.votable</span> <span class="k">import</span> <span class="n">from_table</span><span class="p">,</span> <span class="n">writeto</span>
<span class="n">votable</span> <span class="o">=</span> <span class="n">from_table</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="n">writeto</span><span class="p">(</span><span class="n">votable</span><span class="p">,</span> <span class="s">&quot;output.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, <code class="docutils literal"><span class="pre">to_table</span></code> will use the <code class="docutils literal"><span class="pre">ID</span></code> attribute from the files to
create the column names for the <a class="reference internal" href="../../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal"><span class="pre">Table</span></code></a> object.  However,
it may be that you want to use the <code class="docutils literal"><span class="pre">name</span></code> attributes instead.  For this,
set the <code class="docutils literal"><span class="pre">use_names_over_ids</span></code> keyword to <a class="reference external" href="http://docs.python.org/library/constants.html#True" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">True</span></code></a>.  Note that since field
<code class="docutils literal"><span class="pre">names</span></code> are not guaranteed to be unique in the VOTable specification,
but column names are required to be unique in Numpy structured arrays (and
thus <a class="reference internal" href="../../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal"><span class="pre">astropy.table.Table</span></code></a> objects), the names may be renamed by appending
numbers to the end in some cases.</p>
</div>
</div>
<div class="section" id="performance-considerations">
<h3>Performance considerations<a class="headerlink" href="#performance-considerations" title="Permalink to this headline">¶</a></h3>
<p>File reads will be moderately faster if the <code class="docutils literal"><span class="pre">TABLE</span></code> element includes
an <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC10">nrows</a> attribute.  If the number of rows is not specified, the
record array must be resized repeatedly during load.</p>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html">VOTable Format Definition Version 1.1</a></li>
<li><a class="reference external" href="http://www.ivoa.net/Documents/VOTable/20091130/REC-VOTable-1.2.html">VOTable Format Definition Version 1.2</a></li>
<li><a class="reference external" href="http://www.ivoa.net/documents/VOTable/20130315/PR-VOTable-1.3-20130315.html">VOTable Format Definition Version 1.3, Proposed Recommendatation</a></li>
</ul>
</div>
<div class="section" id="reference-api">
<h2>Reference/API<a class="headerlink" href="#reference-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-astropy.io.votable">
<span id="astropy-io-votable-package"></span><h3>astropy.io.votable Package<a class="headerlink" href="#module-astropy.io.votable" title="Permalink to this headline">¶</a></h3>
<p>This package reads and writes data formats used by the Virtual
Observatory (VO) initiative, particularly the VOTable XML format.</p>
<div class="section" id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.parse.html#astropy.io.votable.parse" title="astropy.io.votable.parse"><code class="xref py py-obj docutils literal"><span class="pre">parse</span></code></a>(source[,&nbsp;columns,&nbsp;invalid,&nbsp;pedantic,&nbsp;...])</td>
<td>Parses a <a class="reference external" href="http://www.ivoa.net/Documents/PR/VOTable/VOTable-20040322.html#ToC9">VOTABLE</a> xml file (or file-like object), and returns a <a class="reference internal" href="../../api/astropy.io.votable.tree.VOTableFile.html#astropy.io.votable.tree.VOTableFile" title="astropy.io.votable.tree.VOTableFile"><code class="xref py py-obj docutils literal"><span class="pre">VOTableFile</span></code></a> object.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.parse_single_table.html#astropy.io.votable.parse_single_table" title="astropy.io.votable.parse_single_table"><code class="xref py py-obj docutils literal"><span class="pre">parse_single_table</span></code></a>(source,&nbsp;**kwargs)</td>
<td>Parses a <a class="reference external" href="http://www.ivoa.net/Documents/PR/VOTable/VOTable-20040322.html#ToC9">VOTABLE</a> xml file (or file-like object), reading and returning only the first <a class="reference internal" href="../../api/astropy.io.votable.tree.Table.html#astropy.io.votable.tree.Table" title="astropy.io.votable.tree.Table"><code class="xref py py-obj docutils literal"><span class="pre">Table</span></code></a> instance.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.validate.html#astropy.io.votable.validate" title="astropy.io.votable.validate"><code class="xref py py-obj docutils literal"><span class="pre">validate</span></code></a>(source[,&nbsp;output,&nbsp;xmllint,&nbsp;filename])</td>
<td>Prints a validation report for the given file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.from_table.html#astropy.io.votable.from_table" title="astropy.io.votable.from_table"><code class="xref py py-obj docutils literal"><span class="pre">from_table</span></code></a>(table[,&nbsp;table_id])</td>
<td>Given an <a class="reference internal" href="../../api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table"><code class="xref py py-obj docutils literal"><span class="pre">Table</span></code></a> object, return a <a class="reference internal" href="../../api/astropy.io.votable.tree.VOTableFile.html#astropy.io.votable.tree.VOTableFile" title="astropy.io.votable.tree.VOTableFile"><code class="xref py py-obj docutils literal"><span class="pre">VOTableFile</span></code></a> file structure containing just that single table.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.is_votable.html#astropy.io.votable.is_votable" title="astropy.io.votable.is_votable"><code class="xref py py-obj docutils literal"><span class="pre">is_votable</span></code></a>(source)</td>
<td>Reads the header of a file to determine if it is a VOTable file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.writeto.html#astropy.io.votable.writeto" title="astropy.io.votable.writeto"><code class="xref py py-obj docutils literal"><span class="pre">writeto</span></code></a>(table,&nbsp;file[,&nbsp;tabledata_format])</td>
<td>Writes a <a class="reference internal" href="../../api/astropy.io.votable.tree.VOTableFile.html#astropy.io.votable.tree.VOTableFile" title="astropy.io.votable.tree.VOTableFile"><code class="xref py py-obj docutils literal"><span class="pre">VOTableFile</span></code></a> to a <a class="reference external" href="http://www.ivoa.net/Documents/PR/VOTable/VOTable-20040322.html#ToC9">VOTABLE</a> xml file.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.Conf.html#astropy.io.votable.Conf" title="astropy.io.votable.Conf"><code class="xref py py-obj docutils literal"><span class="pre">Conf</span></code></a></td>
<td>Configuration parameters for <a class="reference internal" href="#module-astropy.io.votable" title="astropy.io.votable"><code class="xref py py-obj docutils literal"><span class="pre">astropy.io.votable</span></code></a>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-astropy.io.votable.tree">
<span id="astropy-io-votable-tree-module"></span><h3>astropy.io.votable.tree Module<a class="headerlink" href="#module-astropy.io.votable.tree" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id3">
<h4>Classes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.Link.html#astropy.io.votable.tree.Link" title="astropy.io.votable.tree.Link"><code class="xref py py-obj docutils literal"><span class="pre">Link</span></code></a>([ID,&nbsp;title,&nbsp;value,&nbsp;href,&nbsp;action,&nbsp;id,&nbsp;...])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC22">LINK</a> elements: used to reference external documents and servers through a URI.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.Info.html#astropy.io.votable.tree.Info" title="astropy.io.votable.tree.Info"><code class="xref py py-obj docutils literal"><span class="pre">Info</span></code></a>([ID,&nbsp;name,&nbsp;value,&nbsp;id,&nbsp;xtype,&nbsp;ref,&nbsp;...])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/VOTable/20040811/REC-VOTable-1.1-20040811.html#ToC19">INFO</a> elements: arbitrary key-value pairs for extensions to the standard.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.Values.html#astropy.io.votable.tree.Values" title="astropy.io.votable.tree.Values"><code class="xref py py-obj docutils literal"><span class="pre">Values</span></code></a>(votable,&nbsp;field[,&nbsp;ID,&nbsp;null,&nbsp;ref,&nbsp;...])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC30">VALUES</a> element: used within <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC24">FIELD</a> and <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC24">PARAM</a> elements to define the domain of values.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.Field.html#astropy.io.votable.tree.Field" title="astropy.io.votable.tree.Field"><code class="xref py py-obj docutils literal"><span class="pre">Field</span></code></a>(votable[,&nbsp;ID,&nbsp;name,&nbsp;datatype,&nbsp;...])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC24">FIELD</a> element: describes the datatype of a particular column of data.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.Param.html#astropy.io.votable.tree.Param" title="astropy.io.votable.tree.Param"><code class="xref py py-obj docutils literal"><span class="pre">Param</span></code></a>(votable[,&nbsp;ID,&nbsp;name,&nbsp;value,&nbsp;datatype,&nbsp;...])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC24">PARAM</a> element: constant-valued columns in the data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.CooSys.html#astropy.io.votable.tree.CooSys" title="astropy.io.votable.tree.CooSys"><code class="xref py py-obj docutils literal"><span class="pre">CooSys</span></code></a>([ID,&nbsp;equinox,&nbsp;epoch,&nbsp;system,&nbsp;id,&nbsp;...])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC19">COOSYS</a> element: defines a coordinate system.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.FieldRef.html#astropy.io.votable.tree.FieldRef" title="astropy.io.votable.tree.FieldRef"><code class="xref py py-obj docutils literal"><span class="pre">FieldRef</span></code></a>(table,&nbsp;ref[,&nbsp;ucd,&nbsp;utype,&nbsp;config,&nbsp;pos])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC31">FIELDref</a> element: used inside of <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC31">GROUP</a> elements to refer to remote <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC24">FIELD</a> elements.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.ParamRef.html#astropy.io.votable.tree.ParamRef" title="astropy.io.votable.tree.ParamRef"><code class="xref py py-obj docutils literal"><span class="pre">ParamRef</span></code></a>(table,&nbsp;ref[,&nbsp;ucd,&nbsp;utype,&nbsp;config,&nbsp;pos])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC31">PARAMref</a> element: used inside of <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC31">GROUP</a> elements to refer to remote <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC24">PARAM</a> elements.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.Group.html#astropy.io.votable.tree.Group" title="astropy.io.votable.tree.Group"><code class="xref py py-obj docutils literal"><span class="pre">Group</span></code></a>(table[,&nbsp;ID,&nbsp;name,&nbsp;ref,&nbsp;ucd,&nbsp;utype,&nbsp;...])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC31">GROUP</a> element: groups <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC24">FIELD</a> and <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC24">PARAM</a> elements.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.Table.html#astropy.io.votable.tree.Table" title="astropy.io.votable.tree.Table"><code class="xref py py-obj docutils literal"><span class="pre">Table</span></code></a>(votable[,&nbsp;ID,&nbsp;name,&nbsp;ref,&nbsp;ucd,&nbsp;utype,&nbsp;...])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC23">TABLE</a> element: optionally contains data.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.Resource.html#astropy.io.votable.tree.Resource" title="astropy.io.votable.tree.Resource"><code class="xref py py-obj docutils literal"><span class="pre">Resource</span></code></a>([name,&nbsp;ID,&nbsp;utype,&nbsp;type,&nbsp;id,&nbsp;...])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC21">RESOURCE</a> element: Groups <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC23">TABLE</a> and <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC21">RESOURCE</a> elements.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.tree.VOTableFile.html#astropy.io.votable.tree.VOTableFile" title="astropy.io.votable.tree.VOTableFile"><code class="xref py py-obj docutils literal"><span class="pre">VOTableFile</span></code></a>([ID,&nbsp;id,&nbsp;config,&nbsp;pos,&nbsp;version])</td>
<td><a class="reference external" href="http://www.ivoa.net/Documents/PR/VOTable/VOTable-20040322.html#ToC9">VOTABLE</a> element: represents an entire file.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-astropy.io.votable.converters">
<span id="astropy-io-votable-converters-module"></span><h3>astropy.io.votable.converters Module<a class="headerlink" href="#module-astropy.io.votable.converters" title="Permalink to this headline">¶</a></h3>
<p>This module handles the conversion of various VOTABLE datatypes
to/from <a class="reference external" href="http://www.ivoa.net/Documents/PR/VOTable/VOTable-20040322.html#ToC25">TABLEDATA</a> and <a class="reference external" href="http://www.ivoa.net/Documents/PR/VOTable/VOTable-20040322.html#ToC27">BINARY</a> formats.</p>
<div class="section" id="id4">
<h4>Functions<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.converters.get_converter.html#astropy.io.votable.converters.get_converter" title="astropy.io.votable.converters.get_converter"><code class="xref py py-obj docutils literal"><span class="pre">get_converter</span></code></a>(field[,&nbsp;config,&nbsp;pos])</td>
<td>Get an appropriate converter instance for a given field.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.converters.table_column_to_votable_datatype.html#astropy.io.votable.converters.table_column_to_votable_datatype" title="astropy.io.votable.converters.table_column_to_votable_datatype"><code class="xref py py-obj docutils literal"><span class="pre">table_column_to_votable_datatype</span></code></a>(column)</td>
<td>Given a <a class="reference internal" href="../../api/astropy.table.Column.html#astropy.table.Column" title="astropy.table.Column"><code class="xref py py-obj docutils literal"><span class="pre">astropy.table.Column</span></code></a> instance, returns the attributes necessary to create a VOTable FIELD element that corresponds to the type of the column.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h4>Classes<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.converters.Converter.html#astropy.io.votable.converters.Converter" title="astropy.io.votable.converters.Converter"><code class="xref py py-obj docutils literal"><span class="pre">Converter</span></code></a>(field[,&nbsp;config,&nbsp;pos])</td>
<td>The base class for all converters.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-astropy.io.votable.ucd">
<span id="astropy-io-votable-ucd-module"></span><h3>astropy.io.votable.ucd Module<a class="headerlink" href="#module-astropy.io.votable.ucd" title="Permalink to this headline">¶</a></h3>
<p>This file contains routines to verify the correctness of UCD strings.</p>
<div class="section" id="id6">
<h4>Functions<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.ucd.parse_ucd.html#astropy.io.votable.ucd.parse_ucd" title="astropy.io.votable.ucd.parse_ucd"><code class="xref py py-obj docutils literal"><span class="pre">parse_ucd</span></code></a>(ucd[,&nbsp;...])</td>
<td>Parse the UCD into its component parts.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.ucd.check_ucd.html#astropy.io.votable.ucd.check_ucd" title="astropy.io.votable.ucd.check_ucd"><code class="xref py py-obj docutils literal"><span class="pre">check_ucd</span></code></a>(ucd[,&nbsp;...])</td>
<td>Returns False if <em>ucd</em> is not a valid <a class="reference external" href="http://www.ivoa.net/Documents/REC/VOTable/VOTable-20040811.html#ToC28">unified content descriptor</a>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-astropy.io.votable.util">
<span id="astropy-io-votable-util-module"></span><h3>astropy.io.votable.util Module<a class="headerlink" href="#module-astropy.io.votable.util" title="Permalink to this headline">¶</a></h3>
<p>Various utilities and cookbook-like things.</p>
<div class="section" id="id7">
<h4>Functions<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.util.convert_to_writable_filelike.html#astropy.io.votable.util.convert_to_writable_filelike" title="astropy.io.votable.util.convert_to_writable_filelike"><code class="xref py py-obj docutils literal"><span class="pre">convert_to_writable_filelike</span></code></a>(fd[,&nbsp;compressed])</td>
<td>Returns a writable file-like object suitable for streaming output.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.util.coerce_range_list_param.html#astropy.io.votable.util.coerce_range_list_param" title="astropy.io.votable.util.coerce_range_list_param"><code class="xref py py-obj docutils literal"><span class="pre">coerce_range_list_param</span></code></a>(p[,&nbsp;frames,&nbsp;numeric])</td>
<td>Coerces and/or verifies the object <em>p</em> into a valid range-list-format parameter.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-astropy.io.votable.validator">
<span id="astropy-io-votable-validator-package"></span><h3>astropy.io.votable.validator Package<a class="headerlink" href="#module-astropy.io.votable.validator" title="Permalink to this headline">¶</a></h3>
<p>Validates a large collection of web-accessible VOTable files,
and generates a report as a directory tree of HTML files.</p>
<div class="section" id="id8">
<h4>Functions<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.validator.make_validation_report.html#astropy.io.votable.validator.make_validation_report" title="astropy.io.votable.validator.make_validation_report"><code class="xref py py-obj docutils literal"><span class="pre">make_validation_report</span></code></a>([urls,&nbsp;destdir,&nbsp;...])</td>
<td>Validates a large collection of web-accessible VOTable files.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-astropy.io.votable.xmlutil">
<span id="astropy-io-votable-xmlutil-module"></span><h3>astropy.io.votable.xmlutil Module<a class="headerlink" href="#module-astropy.io.votable.xmlutil" title="Permalink to this headline">¶</a></h3>
<p>Various XML-related utilities</p>
<div class="section" id="id9">
<h4>Functions<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.xmlutil.check_id.html#astropy.io.votable.xmlutil.check_id" title="astropy.io.votable.xmlutil.check_id"><code class="xref py py-obj docutils literal"><span class="pre">check_id</span></code></a>(ID[,&nbsp;name,&nbsp;config,&nbsp;pos])</td>
<td>Raises a <a class="reference internal" href="api_exceptions.html#astropy.io.votable.exceptions.VOTableSpecError" title="astropy.io.votable.exceptions.VOTableSpecError"><code class="xref py py-obj docutils literal"><span class="pre">VOTableSpecError</span></code></a> if <em>ID</em> is not a valid XML <a class="reference external" href="http://www.w3.org/TR/REC-xml/#id">ID</a>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.xmlutil.fix_id.html#astropy.io.votable.xmlutil.fix_id" title="astropy.io.votable.xmlutil.fix_id"><code class="xref py py-obj docutils literal"><span class="pre">fix_id</span></code></a>(ID[,&nbsp;config,&nbsp;pos])</td>
<td>Given an arbitrary string, create one that can be used as an xml id.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.xmlutil.check_token.html#astropy.io.votable.xmlutil.check_token" title="astropy.io.votable.xmlutil.check_token"><code class="xref py py-obj docutils literal"><span class="pre">check_token</span></code></a>(token,&nbsp;attr_name[,&nbsp;config,&nbsp;pos])</td>
<td>Raises a <a class="reference external" href="http://docs.python.org/library/exceptions.html#exceptions.ValueError" title="(in Python v2.7)"><code class="xref py py-obj docutils literal"><span class="pre">ValueError</span></code></a> if <em>token</em> is not a valid XML token.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.xmlutil.check_mime_content_type.html#astropy.io.votable.xmlutil.check_mime_content_type" title="astropy.io.votable.xmlutil.check_mime_content_type"><code class="xref py py-obj docutils literal"><span class="pre">check_mime_content_type</span></code></a>(content_type[,&nbsp;...])</td>
<td>Raises a <a class="reference internal" href="api_exceptions.html#astropy.io.votable.exceptions.VOTableSpecError" title="astropy.io.votable.exceptions.VOTableSpecError"><code class="xref py py-obj docutils literal"><span class="pre">VOTableSpecError</span></code></a> if <em>content_type</em> is not a valid MIME content type.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../api/astropy.io.votable.xmlutil.check_anyuri.html#astropy.io.votable.xmlutil.check_anyuri" title="astropy.io.votable.xmlutil.check_anyuri"><code class="xref py py-obj docutils literal"><span class="pre">check_anyuri</span></code></a>(uri[,&nbsp;config,&nbsp;pos])</td>
<td>Raises a <a class="reference internal" href="api_exceptions.html#astropy.io.votable.exceptions.VOTableSpecError" title="astropy.io.votable.exceptions.VOTableSpecError"><code class="xref py py-obj docutils literal"><span class="pre">VOTableSpecError</span></code></a> if <em>uri</em> is not a valid URI.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../api/astropy.io.votable.xmlutil.validate_schema.html#astropy.io.votable.xmlutil.validate_schema" title="astropy.io.votable.xmlutil.validate_schema"><code class="xref py py-obj docutils literal"><span class="pre">validate_schema</span></code></a>(filename[,&nbsp;version])</td>
<td>Validates the given file against the appropriate VOTable schema.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="astropy-io-votable-exceptions-module">
<h3>astropy.io.votable.exceptions Module<a class="headerlink" href="#astropy-io-votable-exceptions-module" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_exceptions.html"><code class="docutils literal"><span class="pre">astropy.io.votable.exceptions</span></code></a></li>
</ul>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">VOTable XML handling (<code class="docutils literal"><span class="pre">astropy.io.votable</span></code>)</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#reading-a-votable-file">Reading a VOTable file</a></li>
<li><a class="reference internal" href="#building-a-new-table-from-scratch">Building a new table from scratch</a></li>
<li><a class="reference internal" href="#outputting-a-votable-file">Outputting a VOTable file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-astropy-io-votable">Using <code class="docutils literal"><span class="pre">astropy.io.votable</span></code></a><ul>
<li><a class="reference internal" href="#standard-compliance">Standard compliance</a><ul>
<li><a class="reference internal" href="#pedantic-mode">Pedantic mode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#missing-values">Missing values</a></li>
<li><a class="reference internal" href="#datatype-mappings">Datatype mappings</a></li>
<li><a class="reference internal" href="#examining-field-types">Examining field types</a></li>
<li><a class="reference internal" href="#data-serialization-formats">Data serialization formats</a></li>
<li><a class="reference internal" href="#converting-to-from-an-astropy-table-table">Converting to/from an <code class="docutils literal"><span class="pre">astropy.table.Table</span></code></a></li>
<li><a class="reference internal" href="#performance-considerations">Performance considerations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
<li><a class="reference internal" href="#reference-api">Reference/API</a><ul>
<li><a class="reference internal" href="#module-astropy.io.votable">astropy.io.votable Package</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-astropy.io.votable.tree">astropy.io.votable.tree Module</a><ul>
<li><a class="reference internal" href="#id3">Classes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-astropy.io.votable.converters">astropy.io.votable.converters Module</a><ul>
<li><a class="reference internal" href="#id4">Functions</a></li>
<li><a class="reference internal" href="#id5">Classes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-astropy.io.votable.ucd">astropy.io.votable.ucd Module</a><ul>
<li><a class="reference internal" href="#id6">Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-astropy.io.votable.util">astropy.io.votable.util Module</a><ul>
<li><a class="reference internal" href="#id7">Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-astropy.io.votable.validator">astropy.io.votable.validator Package</a><ul>
<li><a class="reference internal" href="#id8">Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-astropy.io.votable.xmlutil">astropy.io.votable.xmlutil Module</a><ul>
<li><a class="reference internal" href="#id9">Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#astropy-io-votable-exceptions-module">astropy.io.votable.exceptions Module</a></li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="http://github.com/astropy/astropy/tree/master/docs/io/votable/index.rst">Edit This Page on Github</a> &nbsp;
    <a href="../../_sources/io/votable/index.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2016, The Astropy Developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1. &nbsp;
    Last built 29 Apr 2016. <br/>
  </p>
</footer>
  </body>
</html>